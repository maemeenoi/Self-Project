"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_src_lib_assessmentUtils_js";
exports.ids = ["_ssr_src_lib_assessmentUtils_js"];
exports.modules = {

/***/ "(ssr)/./src/lib/assessmentUtils.js":
/*!************************************!*\
  !*** ./src/lib/assessmentUtils.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   processAssessmentData: () => (/* binding */ processAssessmentData)\n/* harmony export */ });\n// src/lib/assessmentUtils.js\n/**\n * Processes database responses into maturity assessment data\n * @param {Array} responses - Array of response objects from the database\n * @param {Array} industryStandards - Array of industry standard objects\n * @returns {Object} Processed assessment data\n */ function processAssessmentData(responses, industryStandards) {\n    // Extract client information\n    const clientInfo = {\n        name: responses.find((r)=>r.QuestionID === 1)?.ResponseText || \"Unknown\",\n        business: responses.find((r)=>r.QuestionID === 2)?.ResponseText || \"Unknown\",\n        email: responses.find((r)=>r.QuestionID === 3)?.ResponseText || \"Unknown\",\n        size: responses.find((r)=>r.QuestionID === 4)?.ResponseText || \"Unknown\",\n        industry: responses.find((r)=>r.QuestionID === 5)?.ResponseText || \"Unknown\"\n    };\n    // Create a map of Industry Standards for fast lookup\n    const standardMap = {};\n    const questionMap = {};\n    industryStandards.forEach((standard)=>{\n        if (standard.QuestionID != null && standard.Score != null) {\n            const key = `${standard.QuestionID}_${standard.Score}`;\n            standardMap[key] = standard.StandardText;\n            questionMap[standard.QuestionID] = standard.QuestionText;\n        }\n    });\n    // Enrich responses with Standard Text and Question Text\n    const enrichedResponses = responses.map((r)=>{\n        const key = `${r.QuestionID}_${r.Score}`;\n        return {\n            ...r,\n            StandardText: standardMap[key] || \"No standard available\",\n            QuestionText: questionMap[r.QuestionID] || `Question ${r.QuestionID}`\n        };\n    });\n    // Group questions by category\n    const categoryMapping = {\n        \"Cloud Strategy\": [\n            6,\n            7,\n            8\n        ],\n        \"Cloud Cost\": [\n            9,\n            10,\n            11\n        ],\n        \"Cloud Security\": [\n            12,\n            13\n        ],\n        \"Cloud People\": [\n            14,\n            19,\n            20\n        ],\n        \"Cloud DevOps\": [\n            15,\n            16,\n            17,\n            18\n        ]\n    };\n    // Calculate scores for each category\n    const categoryScores = {};\n    Object.entries(categoryMapping).forEach(([category, questionIds])=>{\n        const scores = questionIds.map((id)=>{\n            const response = responses.find((r)=>r.QuestionID === id);\n            return response?.Score || 0;\n        }).filter((score)=>score > 0);\n        // Calculate average score if we have valid scores\n        if (scores.length > 0) {\n            categoryScores[category] = {\n                score: parseFloat((scores.reduce((sum, score)=>sum + score, 0) / scores.length).toFixed(1)),\n                responses: scores\n            };\n        }\n    });\n    // Determine maturity levels based on scores\n    const maturityLevels = {\n        \"Cloud Strategy\": determineStrategyMaturityLevel(categoryScores[\"Cloud Strategy\"]?.score),\n        \"Cloud Cost\": determineCostMaturityLevel(categoryScores[\"Cloud Cost\"]?.score),\n        \"Cloud Security\": determineSecurityMaturityLevel(categoryScores[\"Cloud Security\"]?.score),\n        \"Cloud People\": determinePeopleMaturityLevel(categoryScores[\"Cloud People\"]?.score),\n        \"Cloud DevOps\": determineDevOpsMaturityLevel(categoryScores[\"Cloud DevOps\"]?.score)\n    };\n    // Calculate overall score\n    const overallScore = parseFloat((Object.values(categoryScores).reduce((sum, cat)=>sum + cat.score, 0) / Object.values(categoryScores).length).toFixed(1));\n    // Format data for the report components\n    return formatReportData(clientInfo, categoryScores, maturityLevels, overallScore, enrichedResponses);\n}\n// Maturity levels data for reference\nconst MATURITY_LEVELS = [\n    {\n        level: -1,\n        threshold: 0,\n        name: \"Level -1: Regressive\",\n        description: \"Process unrepeatable, poorly controlled and reactive\"\n    },\n    {\n        level: 0,\n        threshold: 2,\n        name: \"Level 0: Repeatable\",\n        description: \"Process documented and partly automated\"\n    },\n    {\n        level: 1,\n        threshold: 3,\n        name: \"Level 1: Consistent\",\n        description: \"Automated processes applied across whole application lifecycle\"\n    },\n    {\n        level: 2,\n        threshold: 4,\n        name: \"Level 2: Quantitatively managed\",\n        description: \"Process measured and controlled\"\n    },\n    {\n        level: 3,\n        threshold: 4.5,\n        name: \"Level 3: Optimizing\",\n        description: \"Focus on process improvements\"\n    }\n];\n/**\n * Determines maturity level for Cloud Strategy\n * @param {number} score - Average score for Cloud Strategy\n * @returns {object} - Maturity level information\n */ function determineStrategyMaturityLevel(score) {\n    if (!score) return {\n        level: 1,\n        name: \"Level 1: Initial\",\n        description: \"Ad hoc cloud usage without a defined strategy\"\n    };\n    if (score < 2) return {\n        level: 1,\n        name: \"Level 1: Initial\",\n        description: \"Ad hoc cloud usage without a defined strategy\"\n    };\n    if (score < 3) return {\n        level: 2,\n        name: \"Level 2: Repeatable\",\n        description: \"Basic cloud strategy aligned with some business objectives\"\n    };\n    if (score < 4) return {\n        level: 3,\n        name: \"Level 3: Defined\",\n        description: \"Formalized cloud strategy integrated with business planning\"\n    };\n    if (score < 4.6) return {\n        level: 4,\n        name: \"Level 4: Managed\",\n        description: \"Cloud strategy is regularly reviewed and optimized\"\n    };\n    return {\n        level: 5,\n        name: \"Level 5: Optimized\",\n        description: \"Continuous improvement with proactive alignment to evolving business goals\"\n    };\n}\n/**\n * Determines maturity level for Cloud Cost Management\n * @param {number} score - Average score for Cloud Cost\n * @returns {object} - Maturity level information\n */ function determineCostMaturityLevel(score) {\n    if (!score) return {\n        level: 1,\n        name: \"Crawl\",\n        description: \"Limited cost visibility and control\"\n    };\n    if (score < 2.5) return {\n        level: 1,\n        name: \"Crawl\",\n        description: \"Basic cost visibility with initial tagging and reporting\"\n    };\n    if (score < 4) return {\n        level: 2,\n        name: \"Walk\",\n        description: \"Improved cost allocation and budgeting processes\"\n    };\n    return {\n        level: 3,\n        name: \"Run\",\n        description: \"Advanced forecasting, real-time cost monitoring, and strategic business alignment\"\n    };\n}\n/**\n * Determines maturity level for Cloud Security\n * @param {number} score - Average score for Cloud Security\n * @returns {object} - Maturity level information\n */ function determineSecurityMaturityLevel(score) {\n    if (!score) return {\n        level: 1,\n        name: \"Level 1: Initial\",\n        description: \"Basic security measures with limited automation\"\n    };\n    if (score < 2) return {\n        level: 1,\n        name: \"Level 1: Initial\",\n        description: \"Basic security measures with limited automation\"\n    };\n    if (score < 3) return {\n        level: 2,\n        name: \"Level 2: Managed\",\n        description: \"Improved visibility and some automated security processes\"\n    };\n    if (score < 4) return {\n        level: 3,\n        name: \"Level 3: Defined\",\n        description: \"Comprehensive security policies and procedures in place\"\n    };\n    if (score < 4.6) return {\n        level: 4,\n        name: \"Level 4: Quantitatively Managed\",\n        description: \"Security performance is measured and managed\"\n    };\n    return {\n        level: 5,\n        name: \"Level 5: Optimized\",\n        description: \"Continuous improvement with adaptive security measures\"\n    };\n}\n/**\n * Determines maturity level for Cloud People\n * @param {number} score - Average score for Cloud People\n * @returns {object} - Maturity level information\n */ function determinePeopleMaturityLevel(score) {\n    if (!score) return {\n        level: 1,\n        name: \"Level 1: Initial\",\n        description: \"Limited cloud expertise with ad hoc training\"\n    };\n    if (score < 2) return {\n        level: 1,\n        name: \"Level 1: Initial\",\n        description: \"Limited cloud expertise with ad hoc training\"\n    };\n    if (score < 3) return {\n        level: 2,\n        name: \"Level 2: Repeatable\",\n        description: \"Basic training programs established\"\n    };\n    if (score < 4) return {\n        level: 3,\n        name: \"Level 3: Defined\",\n        description: \"Structured training and development plans in place\"\n    };\n    if (score < 4.6) return {\n        level: 4,\n        name: \"Level 4: Managed\",\n        description: \"Regular assessment and improvement of cloud skills\"\n    };\n    return {\n        level: 5,\n        name: \"Level 5: Optimized\",\n        description: \"Continuous learning culture with advanced skill development\"\n    };\n}\n/**\n * Determines maturity level for Cloud DevOps\n * @param {number} score - Average score for Cloud DevOps\n * @returns {object} - Maturity level information\n */ function determineDevOpsMaturityLevel(score) {\n    if (!score) return {\n        level: 1,\n        name: \"Level 1: Initial\",\n        description: \"Manual processes with minimal collaboration\"\n    };\n    if (score < 2) return {\n        level: 1,\n        name: \"Level 1: Initial\",\n        description: \"Manual processes with minimal collaboration\"\n    };\n    if (score < 3) return {\n        level: 2,\n        name: \"Level 2: Managed\",\n        description: \"Basic automation and improved team collaboration\"\n    };\n    if (score < 4) return {\n        level: 3,\n        name: \"Level 3: Defined\",\n        description: \"Standardized processes with integrated tools\"\n    };\n    if (score < 4.6) return {\n        level: 4,\n        name: \"Level 4: Quantitatively Managed\",\n        description: \"Metrics-driven improvements and proactive incident management\"\n    };\n    return {\n        level: 5,\n        name: \"Level 5: Optimized\",\n        description: \"Fully automated pipelines with continuous delivery and feedback loops\"\n    };\n}\n/**\n * Determines overall maturity level\n * @param {number} score - Overall maturity score\n * @returns {string} - Overall maturity level name\n */ function determineOverallMaturityLevel(score) {\n    if (score < 2) return \"Level 1: Initial\";\n    if (score < 3) return \"Level 2: Repeatable\";\n    if (score < 4) return \"Level 3: Defined\";\n    if (score < 4.6) return \"Level 4: Managed\";\n    return \"Level 5: Optimized\";\n}\n/**\n * Formats assessment data for report components\n * @param {object} clientInfo - Client information\n * @param {object} categoryScores - Scores by category\n * @param {object} maturityLevels - Maturity levels by category\n * @param {number} overallScore - Overall maturity score\n * @param {array} enrichedResponses - Enriched responses with standards text\n * @returns {object} - Formatted report data\n */ function formatReportData(clientInfo, categoryScores, maturityLevels, overallScore, enrichedResponses) {\n    // Create radar chart data for maturity dimensions\n    const dimensionalScores = Object.entries(categoryScores).map(([dimension, data])=>({\n            dimension,\n            score: data.score,\n            fullMark: 5\n        }));\n    // Practice areas for maturity table\n    const practiceAreas = [\n        {\n            id: \"buildManagement\",\n            name: \"Build management and CI\",\n            currentLevel: determinePracticeLevel(categoryScores, \"Cloud DevOps\"),\n            targetLevel: Math.min(determinePracticeLevel(categoryScores, \"Cloud DevOps\") + 1, 3)\n        },\n        {\n            id: \"environment\",\n            name: \"Environment and deployments\",\n            currentLevel: determinePracticeLevel(categoryScores, \"Cloud DevOps\"),\n            targetLevel: Math.min(determinePracticeLevel(categoryScores, \"Cloud DevOps\") + 1, 3)\n        },\n        {\n            id: \"release\",\n            name: \"Release management\",\n            currentLevel: determinePracticeLevel(categoryScores, \"Cloud DevOps\"),\n            targetLevel: Math.min(determinePracticeLevel(categoryScores, \"Cloud DevOps\") + 1, 3)\n        },\n        {\n            id: \"testing\",\n            name: \"Testing\",\n            currentLevel: Math.max(determinePracticeLevel(categoryScores, \"Cloud DevOps\") - 1, -1),\n            targetLevel: Math.min(determinePracticeLevel(categoryScores, \"Cloud DevOps\") + 1, 3)\n        },\n        {\n            id: \"dataManagement\",\n            name: \"Data Management\",\n            currentLevel: determinePracticeLevel(categoryScores, \"Cloud Strategy\"),\n            targetLevel: Math.min(determinePracticeLevel(categoryScores, \"Cloud Strategy\") + 1, 3)\n        }\n    ];\n    // Generate necessary sections\n    const recommendations = generateRecommendations(categoryScores, maturityLevels);\n    const shortTermFocus = generateShortTermFocus(categoryScores);\n    const longTermObjectives = generateLongTermObjectives(categoryScores);\n    const summaryFindings = generateSummaryFindings(categoryScores);\n    return {\n        reportMetadata: {\n            organizationName: clientInfo.business,\n            clientName: clientInfo.name,\n            clientEmail: clientInfo.email,\n            clientSize: clientInfo.size,\n            clientIndustry: clientInfo.industry,\n            reportDate: new Date().toLocaleDateString(\"en-US\", {\n                year: \"numeric\",\n                month: \"long\",\n                day: \"numeric\"\n            }),\n            reportPeriod: `Q${Math.ceil((new Date().getMonth() + 1) / 3)} ${new Date().getFullYear()}`\n        },\n        executiveSummary: {\n            sectionTitle: \"Executive Summary\",\n            subtopics: [\n                {\n                    title: \"Overview\",\n                    content: `This report presents an overview of ${clientInfo.business}'s cloud infrastructure maturity.`\n                },\n                {\n                    title: \"Purpose\",\n                    content: \"To assess and recommend improvements for cloud practices and maturity.\"\n                },\n                {\n                    title: \"Methodology\",\n                    content: \"Assessment responses analyzed against industry standards to identify gaps and opportunities.\"\n                },\n                {\n                    title: \"Key Focuses\",\n                    content: [\n                        \"Cloud cost optimization\",\n                        \"Infrastructure as Code (IaC) practices\",\n                        \"Automation and DevOps improvements\",\n                        \"Governance and operational excellence\"\n                    ]\n                },\n                {\n                    title: \"Summary of Findings\",\n                    content: summaryFindings\n                },\n                {\n                    title: \"Key Recommendations\",\n                    content: recommendations.slice(0, 4).map((rec)=>rec.title)\n                }\n            ]\n        },\n        cloudMaturityAssessment: {\n            sectionTitle: \"Cloud Maturity Assessment\",\n            overallScore: overallScore,\n            currentLevel: determineOverallMaturityLevel(overallScore),\n            maturityLevels: MATURITY_LEVELS,\n            dimensionalScores: dimensionalScores,\n            subtopics: [\n                {\n                    title: \"Understanding Cloud Maturity\",\n                    content: \"Cloud maturity measures the effectiveness and optimization of cloud adoption and practices.\"\n                },\n                {\n                    title: \"Current Cloud Maturity Level\",\n                    content: `With an overall score of ${overallScore.toFixed(1)}/5.0, your organization is at ${determineOverallMaturityLevel(overallScore)}. ${interpretMaturityLevel(overallScore)}`\n                },\n                {\n                    title: \"Dimensional Analysis\",\n                    content: \"This radar chart highlights strengths and improvement areas across cloud domains.\",\n                    dimensionalScores: dimensionalScores\n                },\n                {\n                    title: \"Growth Trajectory & Recommendations\",\n                    content: \"Focus areas and goals to accelerate cloud maturity.\",\n                    shortTermFocus: shortTermFocus,\n                    longTermObjectives: longTermObjectives\n                }\n            ],\n            practiceAreas: practiceAreas,\n            description: \"This maturity assessment shows your current position and target state across key DevOps and cloud practices.\"\n        },\n        recommendations: {\n            sectionTitle: \"Recommendations & Action Plan\",\n            keyRecommendations: recommendations,\n            implementationRoadmap: [\n                {\n                    phase: \"Immediate (0-30 days)\",\n                    actions: [\n                        \"Implement automated instance scheduling\",\n                        \"Standardize resource tagging\"\n                    ]\n                },\n                {\n                    phase: \"Short-term (1-3 months)\",\n                    actions: [\n                        \"Right-size oversized instances\",\n                        \"Implement S3 lifecycle policies\"\n                    ]\n                },\n                {\n                    phase: \"Medium-term (3-6 months)\",\n                    actions: [\n                        \"Expand Infrastructure as Code (IaC) practices\",\n                        \"Introduce cost anomaly detection\"\n                    ]\n                },\n                {\n                    phase: \"Long-term (6-12 months)\",\n                    actions: [\n                        \"Adopt FinOps best practices\",\n                        \"Enhance container orchestration strategies\"\n                    ]\n                }\n            ],\n            nextSteps: [\n                \"Schedule a planning session with MakeStuffGo team\",\n                \"Assign internal stakeholders to each recommendation area\",\n                \"Track progress with bi-weekly reviews\"\n            ],\n            categoryScores,\n            responses: enrichedResponses\n        }\n    };\n}\n/**\n * Helper function to determine practice level based on category score\n * @param {object} categoryScores - Scores by category\n * @param {string} category - Category name\n * @returns {number} - Practice level\n */ function determinePracticeLevel(categoryScores, category) {\n    const score = categoryScores[category]?.score || 3;\n    if (score < 2) return -1 // Level -1: Regressive\n    ;\n    if (score < 3) return 0 // Level 0: Repeatable\n    ;\n    if (score < 4) return 1 // Level 1: Consistent\n    ;\n    if (score < 4.6) return 2 // Level 2: Quantitatively managed\n    ;\n    return 3 // Level 3: Optimizing\n    ;\n}\n/**\n * Interpret maturity level description\n * @param {number} score - Maturity score\n * @returns {string} - Interpretation\n */ function interpretMaturityLevel(score) {\n    if (score < 2) return \"significant room for improvement in your cloud practices\";\n    if (score < 3) return \"established cloud practices with opportunities for automation and standardization\";\n    if (score < 4) return \"good cloud practices with opportunities for optimization and measurement\";\n    return \"advanced cloud practices with opportunities for continuous improvement\";\n}\n/**\n * Generate short-term focus areas based on lowest scores\n * @param {object} categoryScores - Scores by category\n * @returns {array} - Short-term focus areas\n */ function generateShortTermFocus(categoryScores) {\n    const focusAreas = [];\n    const sortedCategories = Object.entries(categoryScores).sort((a, b)=>a[1].score - b[1].score).slice(0, 3);\n    sortedCategories.forEach(([category, data])=>{\n        if (category === \"Cloud Strategy\") {\n            focusAreas.push(\"Develop comprehensive cloud governance framework\");\n        } else if (category === \"Cloud Cost\") {\n            focusAreas.push(\"Implement automated cost monitoring and reporting\");\n        } else if (category === \"Cloud Security\") {\n            focusAreas.push(\"Enhance security controls and compliance monitoring\");\n        } else if (category === \"Cloud DevOps\") {\n            focusAreas.push(\"Automate deployment and testing processes\");\n        } else if (category === \"Cloud People\") {\n            focusAreas.push(\"Implement cloud skills development program\");\n        }\n    });\n    return focusAreas;\n}\n/**\n * Generate long-term objectives\n * @param {object} categoryScores - Scores by category\n * @returns {array} - Long-term objectives\n */ function generateLongTermObjectives(categoryScores) {\n    return [\n        \"Establish a mature FinOps practice with proactive optimization\",\n        \"Achieve 90%+ infrastructure-as-code coverage\",\n        \"Implement advanced multi-cloud strategy with automated workload balancing\",\n        \"Develop AI-driven cloud optimization capabilities\"\n    ];\n}\n/**\n * Generate summary findings based on scores\n * @param {object} categoryScores - Scores by category\n * @returns {array} - Summary findings\n */ function generateSummaryFindings(categoryScores) {\n    const findings = [];\n    if ((categoryScores[\"Cloud Cost\"]?.score || 0) < 3.5) {\n        findings.push(\"Cloud cost management practices need improvement with potential for 25-35% cost reduction\");\n    }\n    if ((categoryScores[\"Cloud DevOps\"]?.score || 0) < 3.5) {\n        findings.push(\"DevOps automation maturity is below industry average, impacting deployment efficiency\");\n    }\n    if ((categoryScores[\"Cloud Security\"]?.score || 0) < 4) {\n        findings.push(\"Security controls require enhancement to meet industry best practices\");\n    }\n    if ((categoryScores[\"Cloud Strategy\"]?.score || 0) < 3.5) {\n        findings.push(\"Cloud governance framework needs standardization across the organization\");\n    }\n    // Add at least one positive finding\n    const bestCategory = Object.entries(categoryScores).sort((a, b)=>b[1].score - a[1].score)[0];\n    if (bestCategory && bestCategory[1].score >= 3.5) {\n        findings.push(`Strong performance in ${bestCategory[0]} with a score of ${bestCategory[1].score.toFixed(1)}/5.0`);\n    } else {\n        findings.push(\"Multiple opportunities identified to enhance cloud maturity across all dimensions\");\n    }\n    return findings;\n}\n/**\n * Generate prioritized recommendations\n * @param {object} categoryScores - Scores by category\n * @param {object} maturityLevels - Maturity levels by category\n * @returns {array} - Recommendations\n */ function generateRecommendations(categoryScores, maturityLevels) {\n    const recommendations = [];\n    // Cloud Cost recommendations\n    if ((categoryScores[\"Cloud Cost\"]?.score || 0) < 3.5) {\n        recommendations.push({\n            title: \"Implement Automated Instance Scheduling\",\n            rationale: \"Non-production resources are running 24/7, resulting in unnecessary costs during inactive hours.\",\n            impact: \"15-20% reduction in compute costs\",\n            priority: \"Critical\"\n        });\n        recommendations.push({\n            title: \"Right-size Oversized Instances\",\n            rationale: \"Analysis shows 35% of compute instances are significantly over-provisioned.\",\n            impact: \"20-25% reduction in instance costs\",\n            priority: (categoryScores[\"Cloud Cost\"]?.score || 0) < 3 ? \"Critical\" : \"High\"\n        });\n    }\n    // Cloud Strategy recommendations\n    if ((categoryScores[\"Cloud Strategy\"]?.score || 0) < 4) {\n        recommendations.push({\n            title: \"Standardize Resource Tagging\",\n            rationale: \"Inconsistent tagging prevents accurate cost allocation and governance.\",\n            impact: \"Improved cost visibility and governance\",\n            priority: (categoryScores[\"Cloud Strategy\"]?.score || 0) < 3 ? \"Critical\" : \"High\"\n        });\n        recommendations.push({\n            title: \"Implement Cost Anomaly Detection\",\n            rationale: \"Unexpected cost spikes are not being detected promptly.\",\n            impact: \"Early detection of cost issues\",\n            priority: \"Medium\"\n        });\n    }\n    // Cloud DevOps recommendations\n    if ((categoryScores[\"Cloud DevOps\"]?.score || 0) < 4) {\n        recommendations.push({\n            title: \"Expand Infrastructure as Code Coverage\",\n            rationale: \"Only 40% of infrastructure is currently managed as code, leading to configuration drift.\",\n            impact: \"Reduced provisioning time and configuration errors\",\n            priority: (categoryScores[\"Cloud DevOps\"]?.score || 0) < 3 ? \"Critical\" : \"High\"\n        });\n    }\n    // Cloud Security recommendations\n    if ((categoryScores[\"Cloud Security\"]?.score || 0) < 4) {\n        recommendations.push({\n            title: \"Enhance IAM Controls and Monitoring\",\n            rationale: \"Current identity management practices don't follow principle of least privilege.\",\n            impact: \"Reduced security risk exposure\",\n            priority: (categoryScores[\"Cloud Security\"]?.score || 0) < 3 ? \"Critical\" : \"Medium\"\n        });\n    }\n    // Add storage recommendations\n    recommendations.push({\n        title: \"Implement S3 Lifecycle Policies\",\n        rationale: \"Large volumes of infrequently accessed data are stored on premium storage tiers.\",\n        impact: \"25-30% reduction in storage costs\",\n        priority: \"Medium\"\n    });\n    return recommendations;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    processAssessmentData\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUEsK0JBQStCO0lBQy9CLElBQUksQ0FBQ3pGLGNBQWMsQ0FBQyxlQUFlLEVBQUVTLFNBQVMsS0FBSyxHQUFHO1FBQ3BEZ0MsZ0JBQWdCMkMsSUFBSSxDQUFDO1lBQ25CaEIsT0FBTztZQUNQbUIsV0FDRTtZQUNGQyxRQUFRO1lBQ1JDLFVBQ0UsQ0FBQ3pGLGNBQWMsQ0FBQyxlQUFlLEVBQUVTLFNBQVMsS0FBSyxJQUFJLGFBQWE7UUFDcEU7SUFDRjtJQUVBLGlDQUFpQztJQUNqQyxJQUFJLENBQUNULGNBQWMsQ0FBQyxpQkFBaUIsRUFBRVMsU0FBUyxLQUFLLEdBQUc7UUFDdERnQyxnQkFBZ0IyQyxJQUFJLENBQUM7WUFDbkJoQixPQUFPO1lBQ1BtQixXQUNFO1lBQ0ZDLFFBQVE7WUFDUkMsVUFDRSxDQUFDekYsY0FBYyxDQUFDLGlCQUFpQixFQUFFUyxTQUFTLEtBQUssSUFDN0MsYUFDQTtRQUNSO0lBQ0Y7SUFFQSw4QkFBOEI7SUFDOUJnQyxnQkFBZ0IyQyxJQUFJLENBQUM7UUFDbkJoQixPQUFPO1FBQ1BtQixXQUNFO1FBQ0ZDLFFBQVE7UUFDUkMsVUFBVTtJQUNaO0lBRUEsT0FBT2hEO0FBQ1Q7QUFFQSxpRUFBZTtJQUNiakU7QUFDRixDQUFDIiwic291cmNlcyI6WyIvVXNlcnMvbWFlbWVlbm9pL0xpYnJhcnkvQ2xvdWRTdG9yYWdlL09uZURyaXZlLUFyYUluc3RpdHV0ZW9mQ2FudGVyYnVyeS9EZXNrdG9wL1NUVURZIEJJQ1QvU2VsZi1Qcm9qZWN0L3BkZi1nZW5lcmF0b3ItY29ubmVjdC10by1NeVNRTC1pbmR1c3RyeS1zdGFuZGFyL3NyYy9saWIvYXNzZXNzbWVudFV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9saWIvYXNzZXNzbWVudFV0aWxzLmpzXG5cbi8qKlxuICogUHJvY2Vzc2VzIGRhdGFiYXNlIHJlc3BvbnNlcyBpbnRvIG1hdHVyaXR5IGFzc2Vzc21lbnQgZGF0YVxuICogQHBhcmFtIHtBcnJheX0gcmVzcG9uc2VzIC0gQXJyYXkgb2YgcmVzcG9uc2Ugb2JqZWN0cyBmcm9tIHRoZSBkYXRhYmFzZVxuICogQHBhcmFtIHtBcnJheX0gaW5kdXN0cnlTdGFuZGFyZHMgLSBBcnJheSBvZiBpbmR1c3RyeSBzdGFuZGFyZCBvYmplY3RzXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBQcm9jZXNzZWQgYXNzZXNzbWVudCBkYXRhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzQXNzZXNzbWVudERhdGEocmVzcG9uc2VzLCBpbmR1c3RyeVN0YW5kYXJkcykge1xuICAvLyBFeHRyYWN0IGNsaWVudCBpbmZvcm1hdGlvblxuICBjb25zdCBjbGllbnRJbmZvID0ge1xuICAgIG5hbWU6IHJlc3BvbnNlcy5maW5kKChyKSA9PiByLlF1ZXN0aW9uSUQgPT09IDEpPy5SZXNwb25zZVRleHQgfHwgXCJVbmtub3duXCIsXG4gICAgYnVzaW5lc3M6XG4gICAgICByZXNwb25zZXMuZmluZCgocikgPT4gci5RdWVzdGlvbklEID09PSAyKT8uUmVzcG9uc2VUZXh0IHx8IFwiVW5rbm93blwiLFxuICAgIGVtYWlsOiByZXNwb25zZXMuZmluZCgocikgPT4gci5RdWVzdGlvbklEID09PSAzKT8uUmVzcG9uc2VUZXh0IHx8IFwiVW5rbm93blwiLFxuICAgIHNpemU6IHJlc3BvbnNlcy5maW5kKChyKSA9PiByLlF1ZXN0aW9uSUQgPT09IDQpPy5SZXNwb25zZVRleHQgfHwgXCJVbmtub3duXCIsXG4gICAgaW5kdXN0cnk6XG4gICAgICByZXNwb25zZXMuZmluZCgocikgPT4gci5RdWVzdGlvbklEID09PSA1KT8uUmVzcG9uc2VUZXh0IHx8IFwiVW5rbm93blwiLFxuICB9XG5cbiAgLy8gQ3JlYXRlIGEgbWFwIG9mIEluZHVzdHJ5IFN0YW5kYXJkcyBmb3IgZmFzdCBsb29rdXBcbiAgY29uc3Qgc3RhbmRhcmRNYXAgPSB7fVxuICBjb25zdCBxdWVzdGlvbk1hcCA9IHt9XG5cbiAgaW5kdXN0cnlTdGFuZGFyZHMuZm9yRWFjaCgoc3RhbmRhcmQpID0+IHtcbiAgICBpZiAoc3RhbmRhcmQuUXVlc3Rpb25JRCAhPSBudWxsICYmIHN0YW5kYXJkLlNjb3JlICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IGtleSA9IGAke3N0YW5kYXJkLlF1ZXN0aW9uSUR9XyR7c3RhbmRhcmQuU2NvcmV9YFxuICAgICAgc3RhbmRhcmRNYXBba2V5XSA9IHN0YW5kYXJkLlN0YW5kYXJkVGV4dFxuICAgICAgcXVlc3Rpb25NYXBbc3RhbmRhcmQuUXVlc3Rpb25JRF0gPSBzdGFuZGFyZC5RdWVzdGlvblRleHRcbiAgICB9XG4gIH0pXG5cbiAgLy8gRW5yaWNoIHJlc3BvbnNlcyB3aXRoIFN0YW5kYXJkIFRleHQgYW5kIFF1ZXN0aW9uIFRleHRcbiAgY29uc3QgZW5yaWNoZWRSZXNwb25zZXMgPSByZXNwb25zZXMubWFwKChyKSA9PiB7XG4gICAgY29uc3Qga2V5ID0gYCR7ci5RdWVzdGlvbklEfV8ke3IuU2NvcmV9YFxuICAgIHJldHVybiB7XG4gICAgICAuLi5yLFxuICAgICAgU3RhbmRhcmRUZXh0OiBzdGFuZGFyZE1hcFtrZXldIHx8IFwiTm8gc3RhbmRhcmQgYXZhaWxhYmxlXCIsXG4gICAgICBRdWVzdGlvblRleHQ6IHF1ZXN0aW9uTWFwW3IuUXVlc3Rpb25JRF0gfHwgYFF1ZXN0aW9uICR7ci5RdWVzdGlvbklEfWAsXG4gICAgfVxuICB9KVxuXG4gIC8vIEdyb3VwIHF1ZXN0aW9ucyBieSBjYXRlZ29yeVxuICBjb25zdCBjYXRlZ29yeU1hcHBpbmcgPSB7XG4gICAgXCJDbG91ZCBTdHJhdGVneVwiOiBbNiwgNywgOF0sXG4gICAgXCJDbG91ZCBDb3N0XCI6IFs5LCAxMCwgMTFdLFxuICAgIFwiQ2xvdWQgU2VjdXJpdHlcIjogWzEyLCAxM10sXG4gICAgXCJDbG91ZCBQZW9wbGVcIjogWzE0LCAxOSwgMjBdLFxuICAgIFwiQ2xvdWQgRGV2T3BzXCI6IFsxNSwgMTYsIDE3LCAxOF0sXG4gIH1cblxuICAvLyBDYWxjdWxhdGUgc2NvcmVzIGZvciBlYWNoIGNhdGVnb3J5XG4gIGNvbnN0IGNhdGVnb3J5U2NvcmVzID0ge31cbiAgT2JqZWN0LmVudHJpZXMoY2F0ZWdvcnlNYXBwaW5nKS5mb3JFYWNoKChbY2F0ZWdvcnksIHF1ZXN0aW9uSWRzXSkgPT4ge1xuICAgIGNvbnN0IHNjb3JlcyA9IHF1ZXN0aW9uSWRzXG4gICAgICAubWFwKChpZCkgPT4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHJlc3BvbnNlcy5maW5kKChyKSA9PiByLlF1ZXN0aW9uSUQgPT09IGlkKVxuICAgICAgICByZXR1cm4gcmVzcG9uc2U/LlNjb3JlIHx8IDBcbiAgICAgIH0pXG4gICAgICAuZmlsdGVyKChzY29yZSkgPT4gc2NvcmUgPiAwKVxuXG4gICAgLy8gQ2FsY3VsYXRlIGF2ZXJhZ2Ugc2NvcmUgaWYgd2UgaGF2ZSB2YWxpZCBzY29yZXNcbiAgICBpZiAoc2NvcmVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNhdGVnb3J5U2NvcmVzW2NhdGVnb3J5XSA9IHtcbiAgICAgICAgc2NvcmU6IHBhcnNlRmxvYXQoXG4gICAgICAgICAgKFxuICAgICAgICAgICAgc2NvcmVzLnJlZHVjZSgoc3VtLCBzY29yZSkgPT4gc3VtICsgc2NvcmUsIDApIC8gc2NvcmVzLmxlbmd0aFxuICAgICAgICAgICkudG9GaXhlZCgxKVxuICAgICAgICApLFxuICAgICAgICByZXNwb25zZXM6IHNjb3JlcyxcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgLy8gRGV0ZXJtaW5lIG1hdHVyaXR5IGxldmVscyBiYXNlZCBvbiBzY29yZXNcbiAgY29uc3QgbWF0dXJpdHlMZXZlbHMgPSB7XG4gICAgXCJDbG91ZCBTdHJhdGVneVwiOiBkZXRlcm1pbmVTdHJhdGVneU1hdHVyaXR5TGV2ZWwoXG4gICAgICBjYXRlZ29yeVNjb3Jlc1tcIkNsb3VkIFN0cmF0ZWd5XCJdPy5zY29yZVxuICAgICksXG4gICAgXCJDbG91ZCBDb3N0XCI6IGRldGVybWluZUNvc3RNYXR1cml0eUxldmVsKFxuICAgICAgY2F0ZWdvcnlTY29yZXNbXCJDbG91ZCBDb3N0XCJdPy5zY29yZVxuICAgICksXG4gICAgXCJDbG91ZCBTZWN1cml0eVwiOiBkZXRlcm1pbmVTZWN1cml0eU1hdHVyaXR5TGV2ZWwoXG4gICAgICBjYXRlZ29yeVNjb3Jlc1tcIkNsb3VkIFNlY3VyaXR5XCJdPy5zY29yZVxuICAgICksXG4gICAgXCJDbG91ZCBQZW9wbGVcIjogZGV0ZXJtaW5lUGVvcGxlTWF0dXJpdHlMZXZlbChcbiAgICAgIGNhdGVnb3J5U2NvcmVzW1wiQ2xvdWQgUGVvcGxlXCJdPy5zY29yZVxuICAgICksXG4gICAgXCJDbG91ZCBEZXZPcHNcIjogZGV0ZXJtaW5lRGV2T3BzTWF0dXJpdHlMZXZlbChcbiAgICAgIGNhdGVnb3J5U2NvcmVzW1wiQ2xvdWQgRGV2T3BzXCJdPy5zY29yZVxuICAgICksXG4gIH1cblxuICAvLyBDYWxjdWxhdGUgb3ZlcmFsbCBzY29yZVxuICBjb25zdCBvdmVyYWxsU2NvcmUgPSBwYXJzZUZsb2F0KFxuICAgIChcbiAgICAgIE9iamVjdC52YWx1ZXMoY2F0ZWdvcnlTY29yZXMpLnJlZHVjZSgoc3VtLCBjYXQpID0+IHN1bSArIGNhdC5zY29yZSwgMCkgL1xuICAgICAgT2JqZWN0LnZhbHVlcyhjYXRlZ29yeVNjb3JlcykubGVuZ3RoXG4gICAgKS50b0ZpeGVkKDEpXG4gIClcblxuICAvLyBGb3JtYXQgZGF0YSBmb3IgdGhlIHJlcG9ydCBjb21wb25lbnRzXG4gIHJldHVybiBmb3JtYXRSZXBvcnREYXRhKFxuICAgIGNsaWVudEluZm8sXG4gICAgY2F0ZWdvcnlTY29yZXMsXG4gICAgbWF0dXJpdHlMZXZlbHMsXG4gICAgb3ZlcmFsbFNjb3JlLFxuICAgIGVucmljaGVkUmVzcG9uc2VzXG4gIClcbn1cblxuLy8gTWF0dXJpdHkgbGV2ZWxzIGRhdGEgZm9yIHJlZmVyZW5jZVxuY29uc3QgTUFUVVJJVFlfTEVWRUxTID0gW1xuICB7XG4gICAgbGV2ZWw6IC0xLFxuICAgIHRocmVzaG9sZDogMCxcbiAgICBuYW1lOiBcIkxldmVsIC0xOiBSZWdyZXNzaXZlXCIsXG4gICAgZGVzY3JpcHRpb246IFwiUHJvY2VzcyB1bnJlcGVhdGFibGUsIHBvb3JseSBjb250cm9sbGVkIGFuZCByZWFjdGl2ZVwiLFxuICB9LFxuICB7XG4gICAgbGV2ZWw6IDAsXG4gICAgdGhyZXNob2xkOiAyLFxuICAgIG5hbWU6IFwiTGV2ZWwgMDogUmVwZWF0YWJsZVwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlByb2Nlc3MgZG9jdW1lbnRlZCBhbmQgcGFydGx5IGF1dG9tYXRlZFwiLFxuICB9LFxuICB7XG4gICAgbGV2ZWw6IDEsXG4gICAgdGhyZXNob2xkOiAzLFxuICAgIG5hbWU6IFwiTGV2ZWwgMTogQ29uc2lzdGVudFwiLFxuICAgIGRlc2NyaXB0aW9uOlxuICAgICAgXCJBdXRvbWF0ZWQgcHJvY2Vzc2VzIGFwcGxpZWQgYWNyb3NzIHdob2xlIGFwcGxpY2F0aW9uIGxpZmVjeWNsZVwiLFxuICB9LFxuICB7XG4gICAgbGV2ZWw6IDIsXG4gICAgdGhyZXNob2xkOiA0LFxuICAgIG5hbWU6IFwiTGV2ZWwgMjogUXVhbnRpdGF0aXZlbHkgbWFuYWdlZFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlByb2Nlc3MgbWVhc3VyZWQgYW5kIGNvbnRyb2xsZWRcIixcbiAgfSxcbiAge1xuICAgIGxldmVsOiAzLFxuICAgIHRocmVzaG9sZDogNC41LFxuICAgIG5hbWU6IFwiTGV2ZWwgMzogT3B0aW1pemluZ1wiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkZvY3VzIG9uIHByb2Nlc3MgaW1wcm92ZW1lbnRzXCIsXG4gIH0sXG5dXG5cbi8qKlxuICogRGV0ZXJtaW5lcyBtYXR1cml0eSBsZXZlbCBmb3IgQ2xvdWQgU3RyYXRlZ3lcbiAqIEBwYXJhbSB7bnVtYmVyfSBzY29yZSAtIEF2ZXJhZ2Ugc2NvcmUgZm9yIENsb3VkIFN0cmF0ZWd5XG4gKiBAcmV0dXJucyB7b2JqZWN0fSAtIE1hdHVyaXR5IGxldmVsIGluZm9ybWF0aW9uXG4gKi9cbmZ1bmN0aW9uIGRldGVybWluZVN0cmF0ZWd5TWF0dXJpdHlMZXZlbChzY29yZSkge1xuICBpZiAoIXNjb3JlKVxuICAgIHJldHVybiB7XG4gICAgICBsZXZlbDogMSxcbiAgICAgIG5hbWU6IFwiTGV2ZWwgMTogSW5pdGlhbFwiLFxuICAgICAgZGVzY3JpcHRpb246IFwiQWQgaG9jIGNsb3VkIHVzYWdlIHdpdGhvdXQgYSBkZWZpbmVkIHN0cmF0ZWd5XCIsXG4gICAgfVxuICBpZiAoc2NvcmUgPCAyKVxuICAgIHJldHVybiB7XG4gICAgICBsZXZlbDogMSxcbiAgICAgIG5hbWU6IFwiTGV2ZWwgMTogSW5pdGlhbFwiLFxuICAgICAgZGVzY3JpcHRpb246IFwiQWQgaG9jIGNsb3VkIHVzYWdlIHdpdGhvdXQgYSBkZWZpbmVkIHN0cmF0ZWd5XCIsXG4gICAgfVxuICBpZiAoc2NvcmUgPCAzKVxuICAgIHJldHVybiB7XG4gICAgICBsZXZlbDogMixcbiAgICAgIG5hbWU6IFwiTGV2ZWwgMjogUmVwZWF0YWJsZVwiLFxuICAgICAgZGVzY3JpcHRpb246IFwiQmFzaWMgY2xvdWQgc3RyYXRlZ3kgYWxpZ25lZCB3aXRoIHNvbWUgYnVzaW5lc3Mgb2JqZWN0aXZlc1wiLFxuICAgIH1cbiAgaWYgKHNjb3JlIDwgNClcbiAgICByZXR1cm4ge1xuICAgICAgbGV2ZWw6IDMsXG4gICAgICBuYW1lOiBcIkxldmVsIDM6IERlZmluZWRcIixcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICBcIkZvcm1hbGl6ZWQgY2xvdWQgc3RyYXRlZ3kgaW50ZWdyYXRlZCB3aXRoIGJ1c2luZXNzIHBsYW5uaW5nXCIsXG4gICAgfVxuICBpZiAoc2NvcmUgPCA0LjYpXG4gICAgcmV0dXJuIHtcbiAgICAgIGxldmVsOiA0LFxuICAgICAgbmFtZTogXCJMZXZlbCA0OiBNYW5hZ2VkXCIsXG4gICAgICBkZXNjcmlwdGlvbjogXCJDbG91ZCBzdHJhdGVneSBpcyByZWd1bGFybHkgcmV2aWV3ZWQgYW5kIG9wdGltaXplZFwiLFxuICAgIH1cbiAgcmV0dXJuIHtcbiAgICBsZXZlbDogNSxcbiAgICBuYW1lOiBcIkxldmVsIDU6IE9wdGltaXplZFwiLFxuICAgIGRlc2NyaXB0aW9uOlxuICAgICAgXCJDb250aW51b3VzIGltcHJvdmVtZW50IHdpdGggcHJvYWN0aXZlIGFsaWdubWVudCB0byBldm9sdmluZyBidXNpbmVzcyBnb2Fsc1wiLFxuICB9XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBtYXR1cml0eSBsZXZlbCBmb3IgQ2xvdWQgQ29zdCBNYW5hZ2VtZW50XG4gKiBAcGFyYW0ge251bWJlcn0gc2NvcmUgLSBBdmVyYWdlIHNjb3JlIGZvciBDbG91ZCBDb3N0XG4gKiBAcmV0dXJucyB7b2JqZWN0fSAtIE1hdHVyaXR5IGxldmVsIGluZm9ybWF0aW9uXG4gKi9cbmZ1bmN0aW9uIGRldGVybWluZUNvc3RNYXR1cml0eUxldmVsKHNjb3JlKSB7XG4gIGlmICghc2NvcmUpXG4gICAgcmV0dXJuIHtcbiAgICAgIGxldmVsOiAxLFxuICAgICAgbmFtZTogXCJDcmF3bFwiLFxuICAgICAgZGVzY3JpcHRpb246IFwiTGltaXRlZCBjb3N0IHZpc2liaWxpdHkgYW5kIGNvbnRyb2xcIixcbiAgICB9XG4gIGlmIChzY29yZSA8IDIuNSlcbiAgICByZXR1cm4ge1xuICAgICAgbGV2ZWw6IDEsXG4gICAgICBuYW1lOiBcIkNyYXdsXCIsXG4gICAgICBkZXNjcmlwdGlvbjogXCJCYXNpYyBjb3N0IHZpc2liaWxpdHkgd2l0aCBpbml0aWFsIHRhZ2dpbmcgYW5kIHJlcG9ydGluZ1wiLFxuICAgIH1cbiAgaWYgKHNjb3JlIDwgNClcbiAgICByZXR1cm4ge1xuICAgICAgbGV2ZWw6IDIsXG4gICAgICBuYW1lOiBcIldhbGtcIixcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkltcHJvdmVkIGNvc3QgYWxsb2NhdGlvbiBhbmQgYnVkZ2V0aW5nIHByb2Nlc3Nlc1wiLFxuICAgIH1cbiAgcmV0dXJuIHtcbiAgICBsZXZlbDogMyxcbiAgICBuYW1lOiBcIlJ1blwiLFxuICAgIGRlc2NyaXB0aW9uOlxuICAgICAgXCJBZHZhbmNlZCBmb3JlY2FzdGluZywgcmVhbC10aW1lIGNvc3QgbW9uaXRvcmluZywgYW5kIHN0cmF0ZWdpYyBidXNpbmVzcyBhbGlnbm1lbnRcIixcbiAgfVxufVxuXG4vKipcbiAqIERldGVybWluZXMgbWF0dXJpdHkgbGV2ZWwgZm9yIENsb3VkIFNlY3VyaXR5XG4gKiBAcGFyYW0ge251bWJlcn0gc2NvcmUgLSBBdmVyYWdlIHNjb3JlIGZvciBDbG91ZCBTZWN1cml0eVxuICogQHJldHVybnMge29iamVjdH0gLSBNYXR1cml0eSBsZXZlbCBpbmZvcm1hdGlvblxuICovXG5mdW5jdGlvbiBkZXRlcm1pbmVTZWN1cml0eU1hdHVyaXR5TGV2ZWwoc2NvcmUpIHtcbiAgaWYgKCFzY29yZSlcbiAgICByZXR1cm4ge1xuICAgICAgbGV2ZWw6IDEsXG4gICAgICBuYW1lOiBcIkxldmVsIDE6IEluaXRpYWxcIixcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkJhc2ljIHNlY3VyaXR5IG1lYXN1cmVzIHdpdGggbGltaXRlZCBhdXRvbWF0aW9uXCIsXG4gICAgfVxuICBpZiAoc2NvcmUgPCAyKVxuICAgIHJldHVybiB7XG4gICAgICBsZXZlbDogMSxcbiAgICAgIG5hbWU6IFwiTGV2ZWwgMTogSW5pdGlhbFwiLFxuICAgICAgZGVzY3JpcHRpb246IFwiQmFzaWMgc2VjdXJpdHkgbWVhc3VyZXMgd2l0aCBsaW1pdGVkIGF1dG9tYXRpb25cIixcbiAgICB9XG4gIGlmIChzY29yZSA8IDMpXG4gICAgcmV0dXJuIHtcbiAgICAgIGxldmVsOiAyLFxuICAgICAgbmFtZTogXCJMZXZlbCAyOiBNYW5hZ2VkXCIsXG4gICAgICBkZXNjcmlwdGlvbjogXCJJbXByb3ZlZCB2aXNpYmlsaXR5IGFuZCBzb21lIGF1dG9tYXRlZCBzZWN1cml0eSBwcm9jZXNzZXNcIixcbiAgICB9XG4gIGlmIChzY29yZSA8IDQpXG4gICAgcmV0dXJuIHtcbiAgICAgIGxldmVsOiAzLFxuICAgICAgbmFtZTogXCJMZXZlbCAzOiBEZWZpbmVkXCIsXG4gICAgICBkZXNjcmlwdGlvbjogXCJDb21wcmVoZW5zaXZlIHNlY3VyaXR5IHBvbGljaWVzIGFuZCBwcm9jZWR1cmVzIGluIHBsYWNlXCIsXG4gICAgfVxuICBpZiAoc2NvcmUgPCA0LjYpXG4gICAgcmV0dXJuIHtcbiAgICAgIGxldmVsOiA0LFxuICAgICAgbmFtZTogXCJMZXZlbCA0OiBRdWFudGl0YXRpdmVseSBNYW5hZ2VkXCIsXG4gICAgICBkZXNjcmlwdGlvbjogXCJTZWN1cml0eSBwZXJmb3JtYW5jZSBpcyBtZWFzdXJlZCBhbmQgbWFuYWdlZFwiLFxuICAgIH1cbiAgcmV0dXJuIHtcbiAgICBsZXZlbDogNSxcbiAgICBuYW1lOiBcIkxldmVsIDU6IE9wdGltaXplZFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkNvbnRpbnVvdXMgaW1wcm92ZW1lbnQgd2l0aCBhZGFwdGl2ZSBzZWN1cml0eSBtZWFzdXJlc1wiLFxuICB9XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBtYXR1cml0eSBsZXZlbCBmb3IgQ2xvdWQgUGVvcGxlXG4gKiBAcGFyYW0ge251bWJlcn0gc2NvcmUgLSBBdmVyYWdlIHNjb3JlIGZvciBDbG91ZCBQZW9wbGVcbiAqIEByZXR1cm5zIHtvYmplY3R9IC0gTWF0dXJpdHkgbGV2ZWwgaW5mb3JtYXRpb25cbiAqL1xuZnVuY3Rpb24gZGV0ZXJtaW5lUGVvcGxlTWF0dXJpdHlMZXZlbChzY29yZSkge1xuICBpZiAoIXNjb3JlKVxuICAgIHJldHVybiB7XG4gICAgICBsZXZlbDogMSxcbiAgICAgIG5hbWU6IFwiTGV2ZWwgMTogSW5pdGlhbFwiLFxuICAgICAgZGVzY3JpcHRpb246IFwiTGltaXRlZCBjbG91ZCBleHBlcnRpc2Ugd2l0aCBhZCBob2MgdHJhaW5pbmdcIixcbiAgICB9XG4gIGlmIChzY29yZSA8IDIpXG4gICAgcmV0dXJuIHtcbiAgICAgIGxldmVsOiAxLFxuICAgICAgbmFtZTogXCJMZXZlbCAxOiBJbml0aWFsXCIsXG4gICAgICBkZXNjcmlwdGlvbjogXCJMaW1pdGVkIGNsb3VkIGV4cGVydGlzZSB3aXRoIGFkIGhvYyB0cmFpbmluZ1wiLFxuICAgIH1cbiAgaWYgKHNjb3JlIDwgMylcbiAgICByZXR1cm4ge1xuICAgICAgbGV2ZWw6IDIsXG4gICAgICBuYW1lOiBcIkxldmVsIDI6IFJlcGVhdGFibGVcIixcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkJhc2ljIHRyYWluaW5nIHByb2dyYW1zIGVzdGFibGlzaGVkXCIsXG4gICAgfVxuICBpZiAoc2NvcmUgPCA0KVxuICAgIHJldHVybiB7XG4gICAgICBsZXZlbDogMyxcbiAgICAgIG5hbWU6IFwiTGV2ZWwgMzogRGVmaW5lZFwiLFxuICAgICAgZGVzY3JpcHRpb246IFwiU3RydWN0dXJlZCB0cmFpbmluZyBhbmQgZGV2ZWxvcG1lbnQgcGxhbnMgaW4gcGxhY2VcIixcbiAgICB9XG4gIGlmIChzY29yZSA8IDQuNilcbiAgICByZXR1cm4ge1xuICAgICAgbGV2ZWw6IDQsXG4gICAgICBuYW1lOiBcIkxldmVsIDQ6IE1hbmFnZWRcIixcbiAgICAgIGRlc2NyaXB0aW9uOiBcIlJlZ3VsYXIgYXNzZXNzbWVudCBhbmQgaW1wcm92ZW1lbnQgb2YgY2xvdWQgc2tpbGxzXCIsXG4gICAgfVxuICByZXR1cm4ge1xuICAgIGxldmVsOiA1LFxuICAgIG5hbWU6IFwiTGV2ZWwgNTogT3B0aW1pemVkXCIsXG4gICAgZGVzY3JpcHRpb246IFwiQ29udGludW91cyBsZWFybmluZyBjdWx0dXJlIHdpdGggYWR2YW5jZWQgc2tpbGwgZGV2ZWxvcG1lbnRcIixcbiAgfVxufVxuXG4vKipcbiAqIERldGVybWluZXMgbWF0dXJpdHkgbGV2ZWwgZm9yIENsb3VkIERldk9wc1xuICogQHBhcmFtIHtudW1iZXJ9IHNjb3JlIC0gQXZlcmFnZSBzY29yZSBmb3IgQ2xvdWQgRGV2T3BzXG4gKiBAcmV0dXJucyB7b2JqZWN0fSAtIE1hdHVyaXR5IGxldmVsIGluZm9ybWF0aW9uXG4gKi9cbmZ1bmN0aW9uIGRldGVybWluZURldk9wc01hdHVyaXR5TGV2ZWwoc2NvcmUpIHtcbiAgaWYgKCFzY29yZSlcbiAgICByZXR1cm4ge1xuICAgICAgbGV2ZWw6IDEsXG4gICAgICBuYW1lOiBcIkxldmVsIDE6IEluaXRpYWxcIixcbiAgICAgIGRlc2NyaXB0aW9uOiBcIk1hbnVhbCBwcm9jZXNzZXMgd2l0aCBtaW5pbWFsIGNvbGxhYm9yYXRpb25cIixcbiAgICB9XG4gIGlmIChzY29yZSA8IDIpXG4gICAgcmV0dXJuIHtcbiAgICAgIGxldmVsOiAxLFxuICAgICAgbmFtZTogXCJMZXZlbCAxOiBJbml0aWFsXCIsXG4gICAgICBkZXNjcmlwdGlvbjogXCJNYW51YWwgcHJvY2Vzc2VzIHdpdGggbWluaW1hbCBjb2xsYWJvcmF0aW9uXCIsXG4gICAgfVxuICBpZiAoc2NvcmUgPCAzKVxuICAgIHJldHVybiB7XG4gICAgICBsZXZlbDogMixcbiAgICAgIG5hbWU6IFwiTGV2ZWwgMjogTWFuYWdlZFwiLFxuICAgICAgZGVzY3JpcHRpb246IFwiQmFzaWMgYXV0b21hdGlvbiBhbmQgaW1wcm92ZWQgdGVhbSBjb2xsYWJvcmF0aW9uXCIsXG4gICAgfVxuICBpZiAoc2NvcmUgPCA0KVxuICAgIHJldHVybiB7XG4gICAgICBsZXZlbDogMyxcbiAgICAgIG5hbWU6IFwiTGV2ZWwgMzogRGVmaW5lZFwiLFxuICAgICAgZGVzY3JpcHRpb246IFwiU3RhbmRhcmRpemVkIHByb2Nlc3NlcyB3aXRoIGludGVncmF0ZWQgdG9vbHNcIixcbiAgICB9XG4gIGlmIChzY29yZSA8IDQuNilcbiAgICByZXR1cm4ge1xuICAgICAgbGV2ZWw6IDQsXG4gICAgICBuYW1lOiBcIkxldmVsIDQ6IFF1YW50aXRhdGl2ZWx5IE1hbmFnZWRcIixcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICBcIk1ldHJpY3MtZHJpdmVuIGltcHJvdmVtZW50cyBhbmQgcHJvYWN0aXZlIGluY2lkZW50IG1hbmFnZW1lbnRcIixcbiAgICB9XG4gIHJldHVybiB7XG4gICAgbGV2ZWw6IDUsXG4gICAgbmFtZTogXCJMZXZlbCA1OiBPcHRpbWl6ZWRcIixcbiAgICBkZXNjcmlwdGlvbjpcbiAgICAgIFwiRnVsbHkgYXV0b21hdGVkIHBpcGVsaW5lcyB3aXRoIGNvbnRpbnVvdXMgZGVsaXZlcnkgYW5kIGZlZWRiYWNrIGxvb3BzXCIsXG4gIH1cbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIG92ZXJhbGwgbWF0dXJpdHkgbGV2ZWxcbiAqIEBwYXJhbSB7bnVtYmVyfSBzY29yZSAtIE92ZXJhbGwgbWF0dXJpdHkgc2NvcmVcbiAqIEByZXR1cm5zIHtzdHJpbmd9IC0gT3ZlcmFsbCBtYXR1cml0eSBsZXZlbCBuYW1lXG4gKi9cbmZ1bmN0aW9uIGRldGVybWluZU92ZXJhbGxNYXR1cml0eUxldmVsKHNjb3JlKSB7XG4gIGlmIChzY29yZSA8IDIpIHJldHVybiBcIkxldmVsIDE6IEluaXRpYWxcIlxuICBpZiAoc2NvcmUgPCAzKSByZXR1cm4gXCJMZXZlbCAyOiBSZXBlYXRhYmxlXCJcbiAgaWYgKHNjb3JlIDwgNCkgcmV0dXJuIFwiTGV2ZWwgMzogRGVmaW5lZFwiXG4gIGlmIChzY29yZSA8IDQuNikgcmV0dXJuIFwiTGV2ZWwgNDogTWFuYWdlZFwiXG4gIHJldHVybiBcIkxldmVsIDU6IE9wdGltaXplZFwiXG59XG5cbi8qKlxuICogRm9ybWF0cyBhc3Nlc3NtZW50IGRhdGEgZm9yIHJlcG9ydCBjb21wb25lbnRzXG4gKiBAcGFyYW0ge29iamVjdH0gY2xpZW50SW5mbyAtIENsaWVudCBpbmZvcm1hdGlvblxuICogQHBhcmFtIHtvYmplY3R9IGNhdGVnb3J5U2NvcmVzIC0gU2NvcmVzIGJ5IGNhdGVnb3J5XG4gKiBAcGFyYW0ge29iamVjdH0gbWF0dXJpdHlMZXZlbHMgLSBNYXR1cml0eSBsZXZlbHMgYnkgY2F0ZWdvcnlcbiAqIEBwYXJhbSB7bnVtYmVyfSBvdmVyYWxsU2NvcmUgLSBPdmVyYWxsIG1hdHVyaXR5IHNjb3JlXG4gKiBAcGFyYW0ge2FycmF5fSBlbnJpY2hlZFJlc3BvbnNlcyAtIEVucmljaGVkIHJlc3BvbnNlcyB3aXRoIHN0YW5kYXJkcyB0ZXh0XG4gKiBAcmV0dXJucyB7b2JqZWN0fSAtIEZvcm1hdHRlZCByZXBvcnQgZGF0YVxuICovXG5cbmZ1bmN0aW9uIGZvcm1hdFJlcG9ydERhdGEoXG4gIGNsaWVudEluZm8sXG4gIGNhdGVnb3J5U2NvcmVzLFxuICBtYXR1cml0eUxldmVscyxcbiAgb3ZlcmFsbFNjb3JlLFxuICBlbnJpY2hlZFJlc3BvbnNlc1xuKSB7XG4gIC8vIENyZWF0ZSByYWRhciBjaGFydCBkYXRhIGZvciBtYXR1cml0eSBkaW1lbnNpb25zXG4gIGNvbnN0IGRpbWVuc2lvbmFsU2NvcmVzID0gT2JqZWN0LmVudHJpZXMoY2F0ZWdvcnlTY29yZXMpLm1hcChcbiAgICAoW2RpbWVuc2lvbiwgZGF0YV0pID0+ICh7XG4gICAgICBkaW1lbnNpb24sXG4gICAgICBzY29yZTogZGF0YS5zY29yZSxcbiAgICAgIGZ1bGxNYXJrOiA1LFxuICAgIH0pXG4gIClcblxuICAvLyBQcmFjdGljZSBhcmVhcyBmb3IgbWF0dXJpdHkgdGFibGVcbiAgY29uc3QgcHJhY3RpY2VBcmVhcyA9IFtcbiAgICB7XG4gICAgICBpZDogXCJidWlsZE1hbmFnZW1lbnRcIixcbiAgICAgIG5hbWU6IFwiQnVpbGQgbWFuYWdlbWVudCBhbmQgQ0lcIixcbiAgICAgIGN1cnJlbnRMZXZlbDogZGV0ZXJtaW5lUHJhY3RpY2VMZXZlbChjYXRlZ29yeVNjb3JlcywgXCJDbG91ZCBEZXZPcHNcIiksXG4gICAgICB0YXJnZXRMZXZlbDogTWF0aC5taW4oXG4gICAgICAgIGRldGVybWluZVByYWN0aWNlTGV2ZWwoY2F0ZWdvcnlTY29yZXMsIFwiQ2xvdWQgRGV2T3BzXCIpICsgMSxcbiAgICAgICAgM1xuICAgICAgKSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcImVudmlyb25tZW50XCIsXG4gICAgICBuYW1lOiBcIkVudmlyb25tZW50IGFuZCBkZXBsb3ltZW50c1wiLFxuICAgICAgY3VycmVudExldmVsOiBkZXRlcm1pbmVQcmFjdGljZUxldmVsKGNhdGVnb3J5U2NvcmVzLCBcIkNsb3VkIERldk9wc1wiKSxcbiAgICAgIHRhcmdldExldmVsOiBNYXRoLm1pbihcbiAgICAgICAgZGV0ZXJtaW5lUHJhY3RpY2VMZXZlbChjYXRlZ29yeVNjb3JlcywgXCJDbG91ZCBEZXZPcHNcIikgKyAxLFxuICAgICAgICAzXG4gICAgICApLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwicmVsZWFzZVwiLFxuICAgICAgbmFtZTogXCJSZWxlYXNlIG1hbmFnZW1lbnRcIixcbiAgICAgIGN1cnJlbnRMZXZlbDogZGV0ZXJtaW5lUHJhY3RpY2VMZXZlbChjYXRlZ29yeVNjb3JlcywgXCJDbG91ZCBEZXZPcHNcIiksXG4gICAgICB0YXJnZXRMZXZlbDogTWF0aC5taW4oXG4gICAgICAgIGRldGVybWluZVByYWN0aWNlTGV2ZWwoY2F0ZWdvcnlTY29yZXMsIFwiQ2xvdWQgRGV2T3BzXCIpICsgMSxcbiAgICAgICAgM1xuICAgICAgKSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcInRlc3RpbmdcIixcbiAgICAgIG5hbWU6IFwiVGVzdGluZ1wiLFxuICAgICAgY3VycmVudExldmVsOiBNYXRoLm1heChcbiAgICAgICAgZGV0ZXJtaW5lUHJhY3RpY2VMZXZlbChjYXRlZ29yeVNjb3JlcywgXCJDbG91ZCBEZXZPcHNcIikgLSAxLFxuICAgICAgICAtMVxuICAgICAgKSxcbiAgICAgIHRhcmdldExldmVsOiBNYXRoLm1pbihcbiAgICAgICAgZGV0ZXJtaW5lUHJhY3RpY2VMZXZlbChjYXRlZ29yeVNjb3JlcywgXCJDbG91ZCBEZXZPcHNcIikgKyAxLFxuICAgICAgICAzXG4gICAgICApLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwiZGF0YU1hbmFnZW1lbnRcIixcbiAgICAgIG5hbWU6IFwiRGF0YSBNYW5hZ2VtZW50XCIsXG4gICAgICBjdXJyZW50TGV2ZWw6IGRldGVybWluZVByYWN0aWNlTGV2ZWwoY2F0ZWdvcnlTY29yZXMsIFwiQ2xvdWQgU3RyYXRlZ3lcIiksXG4gICAgICB0YXJnZXRMZXZlbDogTWF0aC5taW4oXG4gICAgICAgIGRldGVybWluZVByYWN0aWNlTGV2ZWwoY2F0ZWdvcnlTY29yZXMsIFwiQ2xvdWQgU3RyYXRlZ3lcIikgKyAxLFxuICAgICAgICAzXG4gICAgICApLFxuICAgIH0sXG4gIF1cblxuICAvLyBHZW5lcmF0ZSBuZWNlc3Nhcnkgc2VjdGlvbnNcbiAgY29uc3QgcmVjb21tZW5kYXRpb25zID0gZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnMoXG4gICAgY2F0ZWdvcnlTY29yZXMsXG4gICAgbWF0dXJpdHlMZXZlbHNcbiAgKVxuICBjb25zdCBzaG9ydFRlcm1Gb2N1cyA9IGdlbmVyYXRlU2hvcnRUZXJtRm9jdXMoY2F0ZWdvcnlTY29yZXMpXG4gIGNvbnN0IGxvbmdUZXJtT2JqZWN0aXZlcyA9IGdlbmVyYXRlTG9uZ1Rlcm1PYmplY3RpdmVzKGNhdGVnb3J5U2NvcmVzKVxuICBjb25zdCBzdW1tYXJ5RmluZGluZ3MgPSBnZW5lcmF0ZVN1bW1hcnlGaW5kaW5ncyhjYXRlZ29yeVNjb3JlcylcblxuICByZXR1cm4ge1xuICAgIHJlcG9ydE1ldGFkYXRhOiB7XG4gICAgICBvcmdhbml6YXRpb25OYW1lOiBjbGllbnRJbmZvLmJ1c2luZXNzLFxuICAgICAgY2xpZW50TmFtZTogY2xpZW50SW5mby5uYW1lLFxuICAgICAgY2xpZW50RW1haWw6IGNsaWVudEluZm8uZW1haWwsXG4gICAgICBjbGllbnRTaXplOiBjbGllbnRJbmZvLnNpemUsXG4gICAgICBjbGllbnRJbmR1c3RyeTogY2xpZW50SW5mby5pbmR1c3RyeSxcbiAgICAgIHJlcG9ydERhdGU6IG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKFwiZW4tVVNcIiwge1xuICAgICAgICB5ZWFyOiBcIm51bWVyaWNcIixcbiAgICAgICAgbW9udGg6IFwibG9uZ1wiLFxuICAgICAgICBkYXk6IFwibnVtZXJpY1wiLFxuICAgICAgfSksXG4gICAgICByZXBvcnRQZXJpb2Q6IGBRJHtNYXRoLmNlaWwoXG4gICAgICAgIChuZXcgRGF0ZSgpLmdldE1vbnRoKCkgKyAxKSAvIDNcbiAgICAgICl9ICR7bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpfWAsXG4gICAgfSxcbiAgICBleGVjdXRpdmVTdW1tYXJ5OiB7XG4gICAgICBzZWN0aW9uVGl0bGU6IFwiRXhlY3V0aXZlIFN1bW1hcnlcIixcbiAgICAgIHN1YnRvcGljczogW1xuICAgICAgICB7XG4gICAgICAgICAgdGl0bGU6IFwiT3ZlcnZpZXdcIixcbiAgICAgICAgICBjb250ZW50OiBgVGhpcyByZXBvcnQgcHJlc2VudHMgYW4gb3ZlcnZpZXcgb2YgJHtjbGllbnRJbmZvLmJ1c2luZXNzfSdzIGNsb3VkIGluZnJhc3RydWN0dXJlIG1hdHVyaXR5LmAsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogXCJQdXJwb3NlXCIsXG4gICAgICAgICAgY29udGVudDpcbiAgICAgICAgICAgIFwiVG8gYXNzZXNzIGFuZCByZWNvbW1lbmQgaW1wcm92ZW1lbnRzIGZvciBjbG91ZCBwcmFjdGljZXMgYW5kIG1hdHVyaXR5LlwiLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGl0bGU6IFwiTWV0aG9kb2xvZ3lcIixcbiAgICAgICAgICBjb250ZW50OlxuICAgICAgICAgICAgXCJBc3Nlc3NtZW50IHJlc3BvbnNlcyBhbmFseXplZCBhZ2FpbnN0IGluZHVzdHJ5IHN0YW5kYXJkcyB0byBpZGVudGlmeSBnYXBzIGFuZCBvcHBvcnR1bml0aWVzLlwiLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGl0bGU6IFwiS2V5IEZvY3VzZXNcIixcbiAgICAgICAgICBjb250ZW50OiBbXG4gICAgICAgICAgICBcIkNsb3VkIGNvc3Qgb3B0aW1pemF0aW9uXCIsXG4gICAgICAgICAgICBcIkluZnJhc3RydWN0dXJlIGFzIENvZGUgKElhQykgcHJhY3RpY2VzXCIsXG4gICAgICAgICAgICBcIkF1dG9tYXRpb24gYW5kIERldk9wcyBpbXByb3ZlbWVudHNcIixcbiAgICAgICAgICAgIFwiR292ZXJuYW5jZSBhbmQgb3BlcmF0aW9uYWwgZXhjZWxsZW5jZVwiLFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogXCJTdW1tYXJ5IG9mIEZpbmRpbmdzXCIsXG4gICAgICAgICAgY29udGVudDogc3VtbWFyeUZpbmRpbmdzLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGl0bGU6IFwiS2V5IFJlY29tbWVuZGF0aW9uc1wiLFxuICAgICAgICAgIGNvbnRlbnQ6IHJlY29tbWVuZGF0aW9ucy5zbGljZSgwLCA0KS5tYXAoKHJlYykgPT4gcmVjLnRpdGxlKSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgICBjbG91ZE1hdHVyaXR5QXNzZXNzbWVudDoge1xuICAgICAgc2VjdGlvblRpdGxlOiBcIkNsb3VkIE1hdHVyaXR5IEFzc2Vzc21lbnRcIixcbiAgICAgIG92ZXJhbGxTY29yZTogb3ZlcmFsbFNjb3JlLFxuICAgICAgY3VycmVudExldmVsOiBkZXRlcm1pbmVPdmVyYWxsTWF0dXJpdHlMZXZlbChvdmVyYWxsU2NvcmUpLFxuICAgICAgbWF0dXJpdHlMZXZlbHM6IE1BVFVSSVRZX0xFVkVMUyxcbiAgICAgIGRpbWVuc2lvbmFsU2NvcmVzOiBkaW1lbnNpb25hbFNjb3JlcyxcbiAgICAgIHN1YnRvcGljczogW1xuICAgICAgICB7XG4gICAgICAgICAgdGl0bGU6IFwiVW5kZXJzdGFuZGluZyBDbG91ZCBNYXR1cml0eVwiLFxuICAgICAgICAgIGNvbnRlbnQ6XG4gICAgICAgICAgICBcIkNsb3VkIG1hdHVyaXR5IG1lYXN1cmVzIHRoZSBlZmZlY3RpdmVuZXNzIGFuZCBvcHRpbWl6YXRpb24gb2YgY2xvdWQgYWRvcHRpb24gYW5kIHByYWN0aWNlcy5cIixcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiBcIkN1cnJlbnQgQ2xvdWQgTWF0dXJpdHkgTGV2ZWxcIixcbiAgICAgICAgICBjb250ZW50OiBgV2l0aCBhbiBvdmVyYWxsIHNjb3JlIG9mICR7b3ZlcmFsbFNjb3JlLnRvRml4ZWQoXG4gICAgICAgICAgICAxXG4gICAgICAgICAgKX0vNS4wLCB5b3VyIG9yZ2FuaXphdGlvbiBpcyBhdCAke2RldGVybWluZU92ZXJhbGxNYXR1cml0eUxldmVsKFxuICAgICAgICAgICAgb3ZlcmFsbFNjb3JlXG4gICAgICAgICAgKX0uICR7aW50ZXJwcmV0TWF0dXJpdHlMZXZlbChvdmVyYWxsU2NvcmUpfWAsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogXCJEaW1lbnNpb25hbCBBbmFseXNpc1wiLFxuICAgICAgICAgIGNvbnRlbnQ6XG4gICAgICAgICAgICBcIlRoaXMgcmFkYXIgY2hhcnQgaGlnaGxpZ2h0cyBzdHJlbmd0aHMgYW5kIGltcHJvdmVtZW50IGFyZWFzIGFjcm9zcyBjbG91ZCBkb21haW5zLlwiLFxuICAgICAgICAgIGRpbWVuc2lvbmFsU2NvcmVzOiBkaW1lbnNpb25hbFNjb3JlcyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiBcIkdyb3d0aCBUcmFqZWN0b3J5ICYgUmVjb21tZW5kYXRpb25zXCIsXG4gICAgICAgICAgY29udGVudDogXCJGb2N1cyBhcmVhcyBhbmQgZ29hbHMgdG8gYWNjZWxlcmF0ZSBjbG91ZCBtYXR1cml0eS5cIixcbiAgICAgICAgICBzaG9ydFRlcm1Gb2N1czogc2hvcnRUZXJtRm9jdXMsXG4gICAgICAgICAgbG9uZ1Rlcm1PYmplY3RpdmVzOiBsb25nVGVybU9iamVjdGl2ZXMsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgcHJhY3RpY2VBcmVhczogcHJhY3RpY2VBcmVhcyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICBcIlRoaXMgbWF0dXJpdHkgYXNzZXNzbWVudCBzaG93cyB5b3VyIGN1cnJlbnQgcG9zaXRpb24gYW5kIHRhcmdldCBzdGF0ZSBhY3Jvc3Mga2V5IERldk9wcyBhbmQgY2xvdWQgcHJhY3RpY2VzLlwiLFxuICAgIH0sXG4gICAgcmVjb21tZW5kYXRpb25zOiB7XG4gICAgICBzZWN0aW9uVGl0bGU6IFwiUmVjb21tZW5kYXRpb25zICYgQWN0aW9uIFBsYW5cIixcbiAgICAgIGtleVJlY29tbWVuZGF0aW9uczogcmVjb21tZW5kYXRpb25zLFxuICAgICAgaW1wbGVtZW50YXRpb25Sb2FkbWFwOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBwaGFzZTogXCJJbW1lZGlhdGUgKDAtMzAgZGF5cylcIixcbiAgICAgICAgICBhY3Rpb25zOiBbXG4gICAgICAgICAgICBcIkltcGxlbWVudCBhdXRvbWF0ZWQgaW5zdGFuY2Ugc2NoZWR1bGluZ1wiLFxuICAgICAgICAgICAgXCJTdGFuZGFyZGl6ZSByZXNvdXJjZSB0YWdnaW5nXCIsXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHBoYXNlOiBcIlNob3J0LXRlcm0gKDEtMyBtb250aHMpXCIsXG4gICAgICAgICAgYWN0aW9uczogW1xuICAgICAgICAgICAgXCJSaWdodC1zaXplIG92ZXJzaXplZCBpbnN0YW5jZXNcIixcbiAgICAgICAgICAgIFwiSW1wbGVtZW50IFMzIGxpZmVjeWNsZSBwb2xpY2llc1wiLFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBwaGFzZTogXCJNZWRpdW0tdGVybSAoMy02IG1vbnRocylcIixcbiAgICAgICAgICBhY3Rpb25zOiBbXG4gICAgICAgICAgICBcIkV4cGFuZCBJbmZyYXN0cnVjdHVyZSBhcyBDb2RlIChJYUMpIHByYWN0aWNlc1wiLFxuICAgICAgICAgICAgXCJJbnRyb2R1Y2UgY29zdCBhbm9tYWx5IGRldGVjdGlvblwiLFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBwaGFzZTogXCJMb25nLXRlcm0gKDYtMTIgbW9udGhzKVwiLFxuICAgICAgICAgIGFjdGlvbnM6IFtcbiAgICAgICAgICAgIFwiQWRvcHQgRmluT3BzIGJlc3QgcHJhY3RpY2VzXCIsXG4gICAgICAgICAgICBcIkVuaGFuY2UgY29udGFpbmVyIG9yY2hlc3RyYXRpb24gc3RyYXRlZ2llc1wiLFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgbmV4dFN0ZXBzOiBbXG4gICAgICAgIFwiU2NoZWR1bGUgYSBwbGFubmluZyBzZXNzaW9uIHdpdGggTWFrZVN0dWZmR28gdGVhbVwiLFxuICAgICAgICBcIkFzc2lnbiBpbnRlcm5hbCBzdGFrZWhvbGRlcnMgdG8gZWFjaCByZWNvbW1lbmRhdGlvbiBhcmVhXCIsXG4gICAgICAgIFwiVHJhY2sgcHJvZ3Jlc3Mgd2l0aCBiaS13ZWVrbHkgcmV2aWV3c1wiLFxuICAgICAgXSxcbiAgICAgIGNhdGVnb3J5U2NvcmVzLFxuICAgICAgcmVzcG9uc2VzOiBlbnJpY2hlZFJlc3BvbnNlcyxcbiAgICB9LFxuICB9XG59XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGRldGVybWluZSBwcmFjdGljZSBsZXZlbCBiYXNlZCBvbiBjYXRlZ29yeSBzY29yZVxuICogQHBhcmFtIHtvYmplY3R9IGNhdGVnb3J5U2NvcmVzIC0gU2NvcmVzIGJ5IGNhdGVnb3J5XG4gKiBAcGFyYW0ge3N0cmluZ30gY2F0ZWdvcnkgLSBDYXRlZ29yeSBuYW1lXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAtIFByYWN0aWNlIGxldmVsXG4gKi9cbmZ1bmN0aW9uIGRldGVybWluZVByYWN0aWNlTGV2ZWwoY2F0ZWdvcnlTY29yZXMsIGNhdGVnb3J5KSB7XG4gIGNvbnN0IHNjb3JlID0gY2F0ZWdvcnlTY29yZXNbY2F0ZWdvcnldPy5zY29yZSB8fCAzXG5cbiAgaWYgKHNjb3JlIDwgMikgcmV0dXJuIC0xIC8vIExldmVsIC0xOiBSZWdyZXNzaXZlXG4gIGlmIChzY29yZSA8IDMpIHJldHVybiAwIC8vIExldmVsIDA6IFJlcGVhdGFibGVcbiAgaWYgKHNjb3JlIDwgNCkgcmV0dXJuIDEgLy8gTGV2ZWwgMTogQ29uc2lzdGVudFxuICBpZiAoc2NvcmUgPCA0LjYpIHJldHVybiAyIC8vIExldmVsIDI6IFF1YW50aXRhdGl2ZWx5IG1hbmFnZWRcbiAgcmV0dXJuIDMgLy8gTGV2ZWwgMzogT3B0aW1pemluZ1xufVxuXG4vKipcbiAqIEludGVycHJldCBtYXR1cml0eSBsZXZlbCBkZXNjcmlwdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IHNjb3JlIC0gTWF0dXJpdHkgc2NvcmVcbiAqIEByZXR1cm5zIHtzdHJpbmd9IC0gSW50ZXJwcmV0YXRpb25cbiAqL1xuZnVuY3Rpb24gaW50ZXJwcmV0TWF0dXJpdHlMZXZlbChzY29yZSkge1xuICBpZiAoc2NvcmUgPCAyKVxuICAgIHJldHVybiBcInNpZ25pZmljYW50IHJvb20gZm9yIGltcHJvdmVtZW50IGluIHlvdXIgY2xvdWQgcHJhY3RpY2VzXCJcbiAgaWYgKHNjb3JlIDwgMylcbiAgICByZXR1cm4gXCJlc3RhYmxpc2hlZCBjbG91ZCBwcmFjdGljZXMgd2l0aCBvcHBvcnR1bml0aWVzIGZvciBhdXRvbWF0aW9uIGFuZCBzdGFuZGFyZGl6YXRpb25cIlxuICBpZiAoc2NvcmUgPCA0KVxuICAgIHJldHVybiBcImdvb2QgY2xvdWQgcHJhY3RpY2VzIHdpdGggb3Bwb3J0dW5pdGllcyBmb3Igb3B0aW1pemF0aW9uIGFuZCBtZWFzdXJlbWVudFwiXG4gIHJldHVybiBcImFkdmFuY2VkIGNsb3VkIHByYWN0aWNlcyB3aXRoIG9wcG9ydHVuaXRpZXMgZm9yIGNvbnRpbnVvdXMgaW1wcm92ZW1lbnRcIlxufVxuXG4vKipcbiAqIEdlbmVyYXRlIHNob3J0LXRlcm0gZm9jdXMgYXJlYXMgYmFzZWQgb24gbG93ZXN0IHNjb3Jlc1xuICogQHBhcmFtIHtvYmplY3R9IGNhdGVnb3J5U2NvcmVzIC0gU2NvcmVzIGJ5IGNhdGVnb3J5XG4gKiBAcmV0dXJucyB7YXJyYXl9IC0gU2hvcnQtdGVybSBmb2N1cyBhcmVhc1xuICovXG5mdW5jdGlvbiBnZW5lcmF0ZVNob3J0VGVybUZvY3VzKGNhdGVnb3J5U2NvcmVzKSB7XG4gIGNvbnN0IGZvY3VzQXJlYXMgPSBbXVxuICBjb25zdCBzb3J0ZWRDYXRlZ29yaWVzID0gT2JqZWN0LmVudHJpZXMoY2F0ZWdvcnlTY29yZXMpXG4gICAgLnNvcnQoKGEsIGIpID0+IGFbMV0uc2NvcmUgLSBiWzFdLnNjb3JlKVxuICAgIC5zbGljZSgwLCAzKVxuXG4gIHNvcnRlZENhdGVnb3JpZXMuZm9yRWFjaCgoW2NhdGVnb3J5LCBkYXRhXSkgPT4ge1xuICAgIGlmIChjYXRlZ29yeSA9PT0gXCJDbG91ZCBTdHJhdGVneVwiKSB7XG4gICAgICBmb2N1c0FyZWFzLnB1c2goXCJEZXZlbG9wIGNvbXByZWhlbnNpdmUgY2xvdWQgZ292ZXJuYW5jZSBmcmFtZXdvcmtcIilcbiAgICB9IGVsc2UgaWYgKGNhdGVnb3J5ID09PSBcIkNsb3VkIENvc3RcIikge1xuICAgICAgZm9jdXNBcmVhcy5wdXNoKFwiSW1wbGVtZW50IGF1dG9tYXRlZCBjb3N0IG1vbml0b3JpbmcgYW5kIHJlcG9ydGluZ1wiKVxuICAgIH0gZWxzZSBpZiAoY2F0ZWdvcnkgPT09IFwiQ2xvdWQgU2VjdXJpdHlcIikge1xuICAgICAgZm9jdXNBcmVhcy5wdXNoKFwiRW5oYW5jZSBzZWN1cml0eSBjb250cm9scyBhbmQgY29tcGxpYW5jZSBtb25pdG9yaW5nXCIpXG4gICAgfSBlbHNlIGlmIChjYXRlZ29yeSA9PT0gXCJDbG91ZCBEZXZPcHNcIikge1xuICAgICAgZm9jdXNBcmVhcy5wdXNoKFwiQXV0b21hdGUgZGVwbG95bWVudCBhbmQgdGVzdGluZyBwcm9jZXNzZXNcIilcbiAgICB9IGVsc2UgaWYgKGNhdGVnb3J5ID09PSBcIkNsb3VkIFBlb3BsZVwiKSB7XG4gICAgICBmb2N1c0FyZWFzLnB1c2goXCJJbXBsZW1lbnQgY2xvdWQgc2tpbGxzIGRldmVsb3BtZW50IHByb2dyYW1cIilcbiAgICB9XG4gIH0pXG5cbiAgcmV0dXJuIGZvY3VzQXJlYXNcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBsb25nLXRlcm0gb2JqZWN0aXZlc1xuICogQHBhcmFtIHtvYmplY3R9IGNhdGVnb3J5U2NvcmVzIC0gU2NvcmVzIGJ5IGNhdGVnb3J5XG4gKiBAcmV0dXJucyB7YXJyYXl9IC0gTG9uZy10ZXJtIG9iamVjdGl2ZXNcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVMb25nVGVybU9iamVjdGl2ZXMoY2F0ZWdvcnlTY29yZXMpIHtcbiAgcmV0dXJuIFtcbiAgICBcIkVzdGFibGlzaCBhIG1hdHVyZSBGaW5PcHMgcHJhY3RpY2Ugd2l0aCBwcm9hY3RpdmUgb3B0aW1pemF0aW9uXCIsXG4gICAgXCJBY2hpZXZlIDkwJSsgaW5mcmFzdHJ1Y3R1cmUtYXMtY29kZSBjb3ZlcmFnZVwiLFxuICAgIFwiSW1wbGVtZW50IGFkdmFuY2VkIG11bHRpLWNsb3VkIHN0cmF0ZWd5IHdpdGggYXV0b21hdGVkIHdvcmtsb2FkIGJhbGFuY2luZ1wiLFxuICAgIFwiRGV2ZWxvcCBBSS1kcml2ZW4gY2xvdWQgb3B0aW1pemF0aW9uIGNhcGFiaWxpdGllc1wiLFxuICBdXG59XG5cbi8qKlxuICogR2VuZXJhdGUgc3VtbWFyeSBmaW5kaW5ncyBiYXNlZCBvbiBzY29yZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSBjYXRlZ29yeVNjb3JlcyAtIFNjb3JlcyBieSBjYXRlZ29yeVxuICogQHJldHVybnMge2FycmF5fSAtIFN1bW1hcnkgZmluZGluZ3NcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVTdW1tYXJ5RmluZGluZ3MoY2F0ZWdvcnlTY29yZXMpIHtcbiAgY29uc3QgZmluZGluZ3MgPSBbXVxuXG4gIGlmICgoY2F0ZWdvcnlTY29yZXNbXCJDbG91ZCBDb3N0XCJdPy5zY29yZSB8fCAwKSA8IDMuNSkge1xuICAgIGZpbmRpbmdzLnB1c2goXG4gICAgICBcIkNsb3VkIGNvc3QgbWFuYWdlbWVudCBwcmFjdGljZXMgbmVlZCBpbXByb3ZlbWVudCB3aXRoIHBvdGVudGlhbCBmb3IgMjUtMzUlIGNvc3QgcmVkdWN0aW9uXCJcbiAgICApXG4gIH1cblxuICBpZiAoKGNhdGVnb3J5U2NvcmVzW1wiQ2xvdWQgRGV2T3BzXCJdPy5zY29yZSB8fCAwKSA8IDMuNSkge1xuICAgIGZpbmRpbmdzLnB1c2goXG4gICAgICBcIkRldk9wcyBhdXRvbWF0aW9uIG1hdHVyaXR5IGlzIGJlbG93IGluZHVzdHJ5IGF2ZXJhZ2UsIGltcGFjdGluZyBkZXBsb3ltZW50IGVmZmljaWVuY3lcIlxuICAgIClcbiAgfVxuXG4gIGlmICgoY2F0ZWdvcnlTY29yZXNbXCJDbG91ZCBTZWN1cml0eVwiXT8uc2NvcmUgfHwgMCkgPCA0KSB7XG4gICAgZmluZGluZ3MucHVzaChcbiAgICAgIFwiU2VjdXJpdHkgY29udHJvbHMgcmVxdWlyZSBlbmhhbmNlbWVudCB0byBtZWV0IGluZHVzdHJ5IGJlc3QgcHJhY3RpY2VzXCJcbiAgICApXG4gIH1cblxuICBpZiAoKGNhdGVnb3J5U2NvcmVzW1wiQ2xvdWQgU3RyYXRlZ3lcIl0/LnNjb3JlIHx8IDApIDwgMy41KSB7XG4gICAgZmluZGluZ3MucHVzaChcbiAgICAgIFwiQ2xvdWQgZ292ZXJuYW5jZSBmcmFtZXdvcmsgbmVlZHMgc3RhbmRhcmRpemF0aW9uIGFjcm9zcyB0aGUgb3JnYW5pemF0aW9uXCJcbiAgICApXG4gIH1cblxuICAvLyBBZGQgYXQgbGVhc3Qgb25lIHBvc2l0aXZlIGZpbmRpbmdcbiAgY29uc3QgYmVzdENhdGVnb3J5ID0gT2JqZWN0LmVudHJpZXMoY2F0ZWdvcnlTY29yZXMpLnNvcnQoXG4gICAgKGEsIGIpID0+IGJbMV0uc2NvcmUgLSBhWzFdLnNjb3JlXG4gIClbMF1cblxuICBpZiAoYmVzdENhdGVnb3J5ICYmIGJlc3RDYXRlZ29yeVsxXS5zY29yZSA+PSAzLjUpIHtcbiAgICBmaW5kaW5ncy5wdXNoKFxuICAgICAgYFN0cm9uZyBwZXJmb3JtYW5jZSBpbiAke1xuICAgICAgICBiZXN0Q2F0ZWdvcnlbMF1cbiAgICAgIH0gd2l0aCBhIHNjb3JlIG9mICR7YmVzdENhdGVnb3J5WzFdLnNjb3JlLnRvRml4ZWQoMSl9LzUuMGBcbiAgICApXG4gIH0gZWxzZSB7XG4gICAgZmluZGluZ3MucHVzaChcbiAgICAgIFwiTXVsdGlwbGUgb3Bwb3J0dW5pdGllcyBpZGVudGlmaWVkIHRvIGVuaGFuY2UgY2xvdWQgbWF0dXJpdHkgYWNyb3NzIGFsbCBkaW1lbnNpb25zXCJcbiAgICApXG4gIH1cblxuICByZXR1cm4gZmluZGluZ3Ncbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBwcmlvcml0aXplZCByZWNvbW1lbmRhdGlvbnNcbiAqIEBwYXJhbSB7b2JqZWN0fSBjYXRlZ29yeVNjb3JlcyAtIFNjb3JlcyBieSBjYXRlZ29yeVxuICogQHBhcmFtIHtvYmplY3R9IG1hdHVyaXR5TGV2ZWxzIC0gTWF0dXJpdHkgbGV2ZWxzIGJ5IGNhdGVnb3J5XG4gKiBAcmV0dXJucyB7YXJyYXl9IC0gUmVjb21tZW5kYXRpb25zXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlUmVjb21tZW5kYXRpb25zKGNhdGVnb3J5U2NvcmVzLCBtYXR1cml0eUxldmVscykge1xuICBjb25zdCByZWNvbW1lbmRhdGlvbnMgPSBbXVxuXG4gIC8vIENsb3VkIENvc3QgcmVjb21tZW5kYXRpb25zXG4gIGlmICgoY2F0ZWdvcnlTY29yZXNbXCJDbG91ZCBDb3N0XCJdPy5zY29yZSB8fCAwKSA8IDMuNSkge1xuICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKHtcbiAgICAgIHRpdGxlOiBcIkltcGxlbWVudCBBdXRvbWF0ZWQgSW5zdGFuY2UgU2NoZWR1bGluZ1wiLFxuICAgICAgcmF0aW9uYWxlOlxuICAgICAgICBcIk5vbi1wcm9kdWN0aW9uIHJlc291cmNlcyBhcmUgcnVubmluZyAyNC83LCByZXN1bHRpbmcgaW4gdW5uZWNlc3NhcnkgY29zdHMgZHVyaW5nIGluYWN0aXZlIGhvdXJzLlwiLFxuICAgICAgaW1wYWN0OiBcIjE1LTIwJSByZWR1Y3Rpb24gaW4gY29tcHV0ZSBjb3N0c1wiLFxuICAgICAgcHJpb3JpdHk6IFwiQ3JpdGljYWxcIixcbiAgICB9KVxuXG4gICAgcmVjb21tZW5kYXRpb25zLnB1c2goe1xuICAgICAgdGl0bGU6IFwiUmlnaHQtc2l6ZSBPdmVyc2l6ZWQgSW5zdGFuY2VzXCIsXG4gICAgICByYXRpb25hbGU6XG4gICAgICAgIFwiQW5hbHlzaXMgc2hvd3MgMzUlIG9mIGNvbXB1dGUgaW5zdGFuY2VzIGFyZSBzaWduaWZpY2FudGx5IG92ZXItcHJvdmlzaW9uZWQuXCIsXG4gICAgICBpbXBhY3Q6IFwiMjAtMjUlIHJlZHVjdGlvbiBpbiBpbnN0YW5jZSBjb3N0c1wiLFxuICAgICAgcHJpb3JpdHk6XG4gICAgICAgIChjYXRlZ29yeVNjb3Jlc1tcIkNsb3VkIENvc3RcIl0/LnNjb3JlIHx8IDApIDwgMyA/IFwiQ3JpdGljYWxcIiA6IFwiSGlnaFwiLFxuICAgIH0pXG4gIH1cblxuICAvLyBDbG91ZCBTdHJhdGVneSByZWNvbW1lbmRhdGlvbnNcbiAgaWYgKChjYXRlZ29yeVNjb3Jlc1tcIkNsb3VkIFN0cmF0ZWd5XCJdPy5zY29yZSB8fCAwKSA8IDQpIHtcbiAgICByZWNvbW1lbmRhdGlvbnMucHVzaCh7XG4gICAgICB0aXRsZTogXCJTdGFuZGFyZGl6ZSBSZXNvdXJjZSBUYWdnaW5nXCIsXG4gICAgICByYXRpb25hbGU6XG4gICAgICAgIFwiSW5jb25zaXN0ZW50IHRhZ2dpbmcgcHJldmVudHMgYWNjdXJhdGUgY29zdCBhbGxvY2F0aW9uIGFuZCBnb3Zlcm5hbmNlLlwiLFxuICAgICAgaW1wYWN0OiBcIkltcHJvdmVkIGNvc3QgdmlzaWJpbGl0eSBhbmQgZ292ZXJuYW5jZVwiLFxuICAgICAgcHJpb3JpdHk6XG4gICAgICAgIChjYXRlZ29yeVNjb3Jlc1tcIkNsb3VkIFN0cmF0ZWd5XCJdPy5zY29yZSB8fCAwKSA8IDNcbiAgICAgICAgICA/IFwiQ3JpdGljYWxcIlxuICAgICAgICAgIDogXCJIaWdoXCIsXG4gICAgfSlcblxuICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKHtcbiAgICAgIHRpdGxlOiBcIkltcGxlbWVudCBDb3N0IEFub21hbHkgRGV0ZWN0aW9uXCIsXG4gICAgICByYXRpb25hbGU6IFwiVW5leHBlY3RlZCBjb3N0IHNwaWtlcyBhcmUgbm90IGJlaW5nIGRldGVjdGVkIHByb21wdGx5LlwiLFxuICAgICAgaW1wYWN0OiBcIkVhcmx5IGRldGVjdGlvbiBvZiBjb3N0IGlzc3Vlc1wiLFxuICAgICAgcHJpb3JpdHk6IFwiTWVkaXVtXCIsXG4gICAgfSlcbiAgfVxuXG4gIC8vIENsb3VkIERldk9wcyByZWNvbW1lbmRhdGlvbnNcbiAgaWYgKChjYXRlZ29yeVNjb3Jlc1tcIkNsb3VkIERldk9wc1wiXT8uc2NvcmUgfHwgMCkgPCA0KSB7XG4gICAgcmVjb21tZW5kYXRpb25zLnB1c2goe1xuICAgICAgdGl0bGU6IFwiRXhwYW5kIEluZnJhc3RydWN0dXJlIGFzIENvZGUgQ292ZXJhZ2VcIixcbiAgICAgIHJhdGlvbmFsZTpcbiAgICAgICAgXCJPbmx5IDQwJSBvZiBpbmZyYXN0cnVjdHVyZSBpcyBjdXJyZW50bHkgbWFuYWdlZCBhcyBjb2RlLCBsZWFkaW5nIHRvIGNvbmZpZ3VyYXRpb24gZHJpZnQuXCIsXG4gICAgICBpbXBhY3Q6IFwiUmVkdWNlZCBwcm92aXNpb25pbmcgdGltZSBhbmQgY29uZmlndXJhdGlvbiBlcnJvcnNcIixcbiAgICAgIHByaW9yaXR5OlxuICAgICAgICAoY2F0ZWdvcnlTY29yZXNbXCJDbG91ZCBEZXZPcHNcIl0/LnNjb3JlIHx8IDApIDwgMyA/IFwiQ3JpdGljYWxcIiA6IFwiSGlnaFwiLFxuICAgIH0pXG4gIH1cblxuICAvLyBDbG91ZCBTZWN1cml0eSByZWNvbW1lbmRhdGlvbnNcbiAgaWYgKChjYXRlZ29yeVNjb3Jlc1tcIkNsb3VkIFNlY3VyaXR5XCJdPy5zY29yZSB8fCAwKSA8IDQpIHtcbiAgICByZWNvbW1lbmRhdGlvbnMucHVzaCh7XG4gICAgICB0aXRsZTogXCJFbmhhbmNlIElBTSBDb250cm9scyBhbmQgTW9uaXRvcmluZ1wiLFxuICAgICAgcmF0aW9uYWxlOlxuICAgICAgICBcIkN1cnJlbnQgaWRlbnRpdHkgbWFuYWdlbWVudCBwcmFjdGljZXMgZG9uJ3QgZm9sbG93IHByaW5jaXBsZSBvZiBsZWFzdCBwcml2aWxlZ2UuXCIsXG4gICAgICBpbXBhY3Q6IFwiUmVkdWNlZCBzZWN1cml0eSByaXNrIGV4cG9zdXJlXCIsXG4gICAgICBwcmlvcml0eTpcbiAgICAgICAgKGNhdGVnb3J5U2NvcmVzW1wiQ2xvdWQgU2VjdXJpdHlcIl0/LnNjb3JlIHx8IDApIDwgM1xuICAgICAgICAgID8gXCJDcml0aWNhbFwiXG4gICAgICAgICAgOiBcIk1lZGl1bVwiLFxuICAgIH0pXG4gIH1cblxuICAvLyBBZGQgc3RvcmFnZSByZWNvbW1lbmRhdGlvbnNcbiAgcmVjb21tZW5kYXRpb25zLnB1c2goe1xuICAgIHRpdGxlOiBcIkltcGxlbWVudCBTMyBMaWZlY3ljbGUgUG9saWNpZXNcIixcbiAgICByYXRpb25hbGU6XG4gICAgICBcIkxhcmdlIHZvbHVtZXMgb2YgaW5mcmVxdWVudGx5IGFjY2Vzc2VkIGRhdGEgYXJlIHN0b3JlZCBvbiBwcmVtaXVtIHN0b3JhZ2UgdGllcnMuXCIsXG4gICAgaW1wYWN0OiBcIjI1LTMwJSByZWR1Y3Rpb24gaW4gc3RvcmFnZSBjb3N0c1wiLFxuICAgIHByaW9yaXR5OiBcIk1lZGl1bVwiLFxuICB9KVxuXG4gIHJldHVybiByZWNvbW1lbmRhdGlvbnNcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBwcm9jZXNzQXNzZXNzbWVudERhdGEsXG59XG4iXSwibmFtZXMiOlsicHJvY2Vzc0Fzc2Vzc21lbnREYXRhIiwicmVzcG9uc2VzIiwiaW5kdXN0cnlTdGFuZGFyZHMiLCJjbGllbnRJbmZvIiwibmFtZSIsImZpbmQiLCJyIiwiUXVlc3Rpb25JRCIsIlJlc3BvbnNlVGV4dCIsImJ1c2luZXNzIiwiZW1haWwiLCJzaXplIiwiaW5kdXN0cnkiLCJzdGFuZGFyZE1hcCIsInF1ZXN0aW9uTWFwIiwiZm9yRWFjaCIsInN0YW5kYXJkIiwiU2NvcmUiLCJrZXkiLCJTdGFuZGFyZFRleHQiLCJRdWVzdGlvblRleHQiLCJlbnJpY2hlZFJlc3BvbnNlcyIsIm1hcCIsImNhdGVnb3J5TWFwcGluZyIsImNhdGVnb3J5U2NvcmVzIiwiT2JqZWN0IiwiZW50cmllcyIsImNhdGVnb3J5IiwicXVlc3Rpb25JZHMiLCJzY29yZXMiLCJpZCIsInJlc3BvbnNlIiwiZmlsdGVyIiwic2NvcmUiLCJsZW5ndGgiLCJwYXJzZUZsb2F0IiwicmVkdWNlIiwic3VtIiwidG9GaXhlZCIsIm1hdHVyaXR5TGV2ZWxzIiwiZGV0ZXJtaW5lU3RyYXRlZ3lNYXR1cml0eUxldmVsIiwiZGV0ZXJtaW5lQ29zdE1hdHVyaXR5TGV2ZWwiLCJkZXRlcm1pbmVTZWN1cml0eU1hdHVyaXR5TGV2ZWwiLCJkZXRlcm1pbmVQZW9wbGVNYXR1cml0eUxldmVsIiwiZGV0ZXJtaW5lRGV2T3BzTWF0dXJpdHlMZXZlbCIsIm92ZXJhbGxTY29yZSIsInZhbHVlcyIsImNhdCIsImZvcm1hdFJlcG9ydERhdGEiLCJNQVRVUklUWV9MRVZFTFMiLCJsZXZlbCIsInRocmVzaG9sZCIsImRlc2NyaXB0aW9uIiwiZGV0ZXJtaW5lT3ZlcmFsbE1hdHVyaXR5TGV2ZWwiLCJkaW1lbnNpb25hbFNjb3JlcyIsImRpbWVuc2lvbiIsImRhdGEiLCJmdWxsTWFyayIsInByYWN0aWNlQXJlYXMiLCJjdXJyZW50TGV2ZWwiLCJkZXRlcm1pbmVQcmFjdGljZUxldmVsIiwidGFyZ2V0TGV2ZWwiLCJNYXRoIiwibWluIiwibWF4IiwicmVjb21tZW5kYXRpb25zIiwiZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnMiLCJzaG9ydFRlcm1Gb2N1cyIsImdlbmVyYXRlU2hvcnRUZXJtRm9jdXMiLCJsb25nVGVybU9iamVjdGl2ZXMiLCJnZW5lcmF0ZUxvbmdUZXJtT2JqZWN0aXZlcyIsInN1bW1hcnlGaW5kaW5ncyIsImdlbmVyYXRlU3VtbWFyeUZpbmRpbmdzIiwicmVwb3J0TWV0YWRhdGEiLCJvcmdhbml6YXRpb25OYW1lIiwiY2xpZW50TmFtZSIsImNsaWVudEVtYWlsIiwiY2xpZW50U2l6ZSIsImNsaWVudEluZHVzdHJ5IiwicmVwb3J0RGF0ZSIsIkRhdGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ5ZWFyIiwibW9udGgiLCJkYXkiLCJyZXBvcnRQZXJpb2QiLCJjZWlsIiwiZ2V0TW9udGgiLCJnZXRGdWxsWWVhciIsImV4ZWN1dGl2ZVN1bW1hcnkiLCJzZWN0aW9uVGl0bGUiLCJzdWJ0b3BpY3MiLCJ0aXRsZSIsImNvbnRlbnQiLCJzbGljZSIsInJlYyIsImNsb3VkTWF0dXJpdHlBc3Nlc3NtZW50IiwiaW50ZXJwcmV0TWF0dXJpdHlMZXZlbCIsImtleVJlY29tbWVuZGF0aW9ucyIsImltcGxlbWVudGF0aW9uUm9hZG1hcCIsInBoYXNlIiwiYWN0aW9ucyIsIm5leHRTdGVwcyIsImZvY3VzQXJlYXMiLCJzb3J0ZWRDYXRlZ29yaWVzIiwic29ydCIsImEiLCJiIiwicHVzaCIsImZpbmRpbmdzIiwiYmVzdENhdGVnb3J5IiwicmF0aW9uYWxlIiwiaW1wYWN0IiwicHJpb3JpdHkiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/assessmentUtils.js\n");

/***/ })

};
;